<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EverClean Housekeeping - Professional Cleaning Services in DeSoto, TX</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <!-- NEW: Flatpickr Calendar CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
        }
        /* Brand Color Scheme */
        .hero-bg { background-color: #f0f5f0; }
        .brand-text { color: #54624C; }
        .brand-bg { background-color: #8E9E82; }
        .brand-bg-light { background-color: #f0f5f0; }
        .brand-border { border-color: #8E9E82; }
        .brand-ring:focus { --tw-ring-color: #8E9E82; }
        .selected-option {
            border-color: #8E9E82;
            box-shadow: 0 0 0 2px #8E9E82;
            background-color: #f0f5f0;
        }
        .cta-button { transition: all 0.3s ease; }
        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            filter: brightness(1.05);
        }
        .price-display {
            background-color: #e8ede7;
            border-left: 5px solid #8E9E82;
        }
        .option-card { transition: all 0.2s ease-in-out; }
        .checklist-accordion summary { cursor: pointer; outline: none; }
        .checklist-accordion summary::-webkit-details-marker { display: none; }
        
        /* Google Autocomplete Dropdown Styling */
        .pac-container {
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            border: 1px solid #e5e7eb;
            z-index: 1000;
        }
        .pac-item { padding: 0.75rem; font-size: 0.875rem; cursor: pointer; }
        .pac-item:hover { background-color: #f3f4f6; }
        .pac-item-query { font-weight: 600; }

        /* NEW: Custom Flatpickr Calendar Styling */
        .flatpickr-calendar {
            background-color: #ffffff;
            border-radius: 0.5rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .flatpickr-day.selected, .flatpickr-day.startRange, .flatpickr-day.endRange {
            background: #8E9E82; /* brand-bg */
            border-color: #8E9E82;
        }
        .flatpickr-day:hover {
            background: #f0f5f0; /* hero-bg */
        }
        .flatpickr-months .flatpickr-month {
            color: #54624C; /* brand-text */
            fill: #54624C;
        }
        .flatpickr-current-month .flatpickr-monthDropdown-months {
            color: #54624C;
        }
        .flatpickr-weekdays {
            background: #f0f5f0;
        }
        .flatpickr-weekday {
            color: #54624C;
            font-weight: 600;
        }
        /* Language Toggle Styles */
        .lang-toggle button.active {
            background-color: #8E9E82;
            color: white;
        }
        /* Quantity Selector Styles */
        .quantity-btn {
            background-color: #e5e7eb;
            color: #374151;
            border: none;
            width: 2rem;
            height: 2rem;
            border-radius: 50%;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .quantity-btn:hover {
            background-color: #d1d5db;
        }
        .quantity-display {
            min-width: 2rem;
            text-align: center;
            font-weight: 600;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <!-- Language Toggle -->
    <div class="bg-gray-800 text-white">
        <div class="container mx-auto px-6 py-2 flex justify-end items-center">
            <div class="lang-toggle bg-gray-700 rounded-full p-1 flex text-sm">
                <button id="lang-en" class="px-3 py-1 rounded-full active">English</button>
                <button id="lang-es" class="px-3 py-1 rounded-full">Espa√±ol</button>
            </div>
        </div>
    </div>

    <!-- Header Section -->
    <header class="hero-bg">
        <div class="container mx-auto px-6 py-12 text-center">
            <!-- OPTIMIZATION: Compressed logo and added loading="lazy" -->
            <img src="https://i.imgur.com/6I3ca1O.png" alt="EverClean Housekeeping Logo" class="h-24 w-24 mx-auto mb-4" loading="lazy" onerror="this.onerror=null; this.src='https://placehold.co/96x96/f0f5f0/54624C?text=Logo';">
            <h1 data-translate="main_headline" class="text-4xl md:text-6xl font-extrabold brand-text leading-tight">
                EverClean Housekeeping
            </h1>
            <p data-translate="tagline" class="mt-4 text-lg text-gray-600">Your Local, Family-Owned & Home Cleaning Experts.</p>
            <p data-translate="service_area" class="text-md text-gray-500">Proudly serving the Dallas/Fort Worth area, including Waxahachie and Midlothian</p>
            <a href="#calculator" data-translate="get_quote_btn" class="cta-button mt-8 inline-block brand-bg text-white font-bold rounded-lg px-8 py-4 text-lg shadow-lg">Get an Instant Quote</a>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-6 py-16">

        <!-- Service Checklists Section -->
        <section id="services" class="mb-20">
            <h2 data-translate="whats_included_headline" class="text-3xl font-bold text-center mb-10 brand-text">What's Included in Your Clean?</h2>
            <div class="max-w-4xl mx-auto space-y-4">
                <!-- Standard Cleaning Checklist -->
                <details class="checklist-accordion bg-white p-6 rounded-lg shadow-md group">
                    <summary class="flex justify-between items-center font-bold text-lg"><span data-translate="service_standard">Standard Cleaning</span><svg class="w-5 h-5 transform group-open:rotate-180 transition-transform" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg></summary>
                    <div class="mt-4 space-y-4 text-sm text-gray-700">
                        <div><h4 class="font-bold text-base brand-text" data-translate="checklist_part1_title">Part 1: All Rooms & General Areas</h4><p class="text-xs text-gray-500 mb-2" data-translate="checklist_part1_desc">These tasks are performed throughout the entire home</p><ul class="list-disc list-inside space-y-1" data-translate-list="checklist_standard_part1"></ul></div>
                        <div><h4 class="font-bold text-base brand-text" data-translate="checklist_part2_title">Part 2: Kitchen</h4><ul class="list-disc list-inside space-y-1" data-translate-list="checklist_standard_part2"></ul></div>
                        <div><h4 class="font-bold text-base brand-text" data-translate="checklist_part3_title">Part 3: Bathrooms</h4><ul class="list-disc list-inside space-y-1" data-translate-list="checklist_standard_part3"></ul></div>
                        <div><h4 class="font-bold text-base brand-text" data-translate="checklist_part4_title">Part 4: Bedrooms & Living Areas</h4><ul class="list-disc list-inside space-y-1" data-translate-list="checklist_standard_part4"></ul></div>
                    </div>
                </details>
                <!-- Deep Cleaning Checklist -->
                <details class="checklist-accordion bg-white p-6 rounded-lg shadow-md group">
                    <summary class="flex justify-between items-center font-bold text-lg"><span data-translate="service_deep">Deep Cleaning</span><svg class="w-5 h-5 transform group-open:rotate-180 transition-transform" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg></summary>
                    <div class="mt-4 space-y-4 text-sm text-gray-700">
                        <p class="font-semibold" data-translate="deep_clean_intro">This service includes every task from our Standard Cleaning Checklist, PLUS the following detailed work:</p>
                        <div><h4 class="font-bold text-base brand-text" data-translate="checklist_part1_title_deep">Part 1: All Rooms (Deep Clean Additions)</h4><ul class="list-disc list-inside space-y-1" data-translate-list="checklist_deep_part1"></ul></div>
                        <div>
                            <h4 class="font-bold text-base brand-text" data-translate="checklist_part2_title_deep">Part 2: Kitchen (Deep Clean Additions)</h4>
                            <ul class="list-disc list-inside space-y-1" data-translate-list="checklist_deep_part2"></ul>
                            <p class="text-xs italic text-gray-500 mt-2" data-translate="deep_clean_fridge_note"></p>
                        </div>
                        <div><h4 class="font-bold text-base brand-text" data-translate="checklist_part3_title_deep">Part 3: Bathrooms (Deep Clean Additions)</h4><ul class="list-disc list-inside space-y-1" data-translate-list="checklist_deep_part3"></ul></div>
                    </div>
                </details>
                <!-- Move-In / Move-Out Checklist -->
                <details class="checklist-accordion bg-white p-6 rounded-lg shadow-md group">
                    <summary class="flex justify-between items-center font-bold text-lg"><span data-translate="service_move">Move-In / Move-Out Cleaning</span><svg class="w-5 h-5 transform group-open:rotate-180 transition-transform" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg></summary>
                     <div class="mt-4 space-y-4 text-sm text-gray-700">
                        <p class="font-semibold" data-translate="move_clean_intro">Our most thorough cleaning for empty homes. Includes all Standard & Deep Cleaning tasks, plus these essentials:</p>
                        <p class="text-xs text-red-700 font-bold" data-translate="move_clean_req">Property must be completely empty of all furniture and personal belongings.</p>
                        <div><h4 class="font-bold text-base brand-text" data-translate="checklist_part1_title_move">Part 1: All Rooms (Move-In/Out Additions)</h4><ul class="list-disc list-inside space-y-1" data-translate-list="checklist_move_part1"></ul></div>
                        <div><h4 class="font-bold text-base brand-text" data-translate="checklist_part2_title_move">Part 2: Kitchen (Move-In/Out Additions)</h4><ul class="list-disc list-inside space-y-1" data-translate-list="checklist_move_part2"></ul></div>
                        <div><h4 class="font-bold text-base brand-text" data-translate="checklist_part3_title_move">Part 3: Bathrooms (Move-In/Out Additions)</h4><ul class="list-disc list-inside space-y-1" data-translate-list="checklist_move_part3"></ul></div>
                    </div>
                </details>
                <!-- Post-Construction Checklist -->
                <details class="checklist-accordion bg-white p-6 rounded-lg shadow-md group">
                    <summary class="flex justify-between items-center font-bold text-lg"><span data-translate="service_post_con">Post-Construction Cleaning</span><svg class="w-5 h-5 transform group-open:rotate-180 transition-transform" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg></summary>
                    <div class="mt-4 space-y-4 text-sm text-gray-700">
                        <p class="font-semibold" data-translate="post_con_intro">A specialized, highly detailed clean for newly built or renovated homes to remove all construction dust and debris.</p>
                        <div><h4 class="font-bold text-base brand-text" data-translate="checklist_part1_title_post">Part 1: All Rooms (Post-Construction Focus)</h4><ul class="list-disc list-inside space-y-1" data-translate-list="checklist_post_con_part1"></ul></div>
                        <div><h4 class="font-bold text-base brand-text" data-translate="checklist_part2_title_post">Part 2: Kitchen & Bathrooms (Post-Construction Focus)</h4><ul class="list-disc list-inside space-y-1" data-translate-list="checklist_post_con_part2"></ul></div>
                    </div>
                </details>
            </div>
        </section>

        <!-- Interactive Calculator Section -->
        <section id="calculator" class="bg-white p-4 md:p-8 rounded-2xl shadow-xl">
            <!-- MOBILE RESPONSIVENESS FIX: Changed grid-cols-1 and lg:grid-cols-2 -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12">
                <!-- Left Side: Inputs -->
                <div>
                    <div><h3 data-translate="get_estimate_headline" class="text-2xl font-bold mb-4 text-center brand-text">Get Your Instant Estimate</h3></div>
                    <div>
                        <h3 data-translate="step1_headline" class="text-xl font-bold mb-1">Step 1: Choose Your Cleaning Type</h3>
                        <p data-translate="step1_desc" class="text-gray-500 mb-4">What level of cleaning do you need?</p>
                        <div id="cleaning-type" class="grid grid-cols-2 gap-4">
                            <div class="option-card border-2 border-gray-200 p-4 rounded-lg cursor-pointer text-center" data-value="standard"><h4 data-translate="service_standard">Standard</h4><p data-translate="service_standard_desc" class="text-xs text-gray-500">Recurring upkeep</p></div>
                            <div class="option-card border-2 border-gray-200 p-4 rounded-lg cursor-pointer text-center selected-option" data-value="deep"><h4 data-translate="service_deep">Deep Clean</h4><p data-translate="service_deep_desc" class="text-xs text-gray-500">Detailed, top-to-bottom</p></div>
                            <div class="option-card border-2 border-gray-200 p-4 rounded-lg cursor-pointer text-center" data-value="move_in_out"><h4 data-translate="service_move">Move-In / Move-Out</h4><p data-translate="service_move_desc" class="text-xs text-gray-500">For empty homes</p></div>
                            <div class="option-card border-2 border-gray-200 p-4 rounded-lg cursor-pointer text-center" data-value="post_construction"><h4 data-translate="service_post_con">Post-Construction</h4><p data-translate="service_post_con_desc" class="text-xs text-gray-500">Dust and debris removal</p></div>
                        </div>
                    </div>
                    <div class="mt-8">
                        <h3 data-translate="step2_headline" class="text-xl font-bold mb-1">Step 2: Tell Us About Your Home</h3>
                        <p data-translate="step2_desc" class="text-gray-500 mb-4">This helps us understand the scope of work.</p>
                        <div class="space-y-4">
                            <div>
                                <label for="sqft-select" data-translate="sqft_label" class="text-sm font-medium text-gray-700">Square Footage</label>
                                <p data-translate="sqft_disclaimer" class="text-xs italic text-gray-500 mt-1">Not sure? Select your best guess. We will verify the correct square footage and confirm the final price when we contact you.</p>
                                <select id="sqft-select" class="w-full mt-1 p-4 border-2 border-gray-200 rounded-lg brand-ring focus:border-green-500" data-translate-options="sqft_options">
                                    <option value="0">up to 1,000 sq ft</option><option value="1">1,001 ‚Äì 1,500 sq ft</option><option value="2">1,501 ‚Äì 2,000 sq ft</option><option value="3" selected>2,001 ‚Äì 2,500 sq ft</option><option value="4">2,501 ‚Äì 3,000 sq ft</option><option value="5">3,001 ‚Äì 4,000 sq ft</option><option value="6">4,001 ‚Äì 5,000 sq ft</option>
                                </select>
                            </div>
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label for="bed-select" data-translate="bedrooms_label" class="text-sm font-medium text-gray-700">Bedrooms</label>
                                    <select id="bed-select" class="w-full mt-1 p-4 border-2 border-gray-200 rounded-lg brand-ring focus:border-green-500">
                                        <option>1</option><option>2</option><option selected>3</option><option>4</option><option>5</option><option>6+</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="bath-select" data-translate="bathrooms_label" class="text-sm font-medium text-gray-700">Bathrooms</label>
                                    <select id="bath-select" class="w-full mt-1 p-4 border-2 border-gray-200 rounded-lg brand-ring focus:border-green-500">
                                        <option>1</option><option>2</option><option selected>3</option><option>4</option><option>5+</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="mt-8">
                        <h3 data-translate="step3_headline" class="text-xl font-bold mb-1">Step 3: Customize with Add-Ons</h3>
                        <p data-translate="step3_desc" class="text-gray-500 mb-4">Select any extras you'd like.</p>
                        <div id="addons" class="space-y-3">
                            <!-- Numerical Add-ons -->
                            <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg" data-price="24.99" data-name-en="Inside Fridge" data-name-es="Interior del Refrigerador">
                                <div>
                                    <span data-translate="addon_fridge" class="text-sm font-medium">Inside Fridge</span>
                                    <span class="text-sm text-gray-500 ml-2">+$24.99</span>
                                </div>
                                <div class="flex items-center">
                                    <button type="button" data-action="minus" class="quantity-btn">-</button>
                                    <span class="quantity-display">0</span>
                                    <button type="button" data-action="plus" class="quantity-btn">+</button>
                                </div>
                            </div>
                            <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg" data-price="24.99" data-name-en="Inside Oven" data-name-es="Interior del Horno">
                                <div>
                                    <span data-translate="addon_oven" class="text-sm font-medium">Inside Oven</span>
                                    <span class="text-sm text-gray-500 ml-2">+$24.99</span>
                                </div>
                                <div class="flex items-center">
                                    <button type="button" data-action="minus" class="quantity-btn">-</button>
                                    <span class="quantity-display">0</span>
                                    <button type="button" data-action="plus" class="quantity-btn">+</button>
                                </div>
                            </div>
                            <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg" data-price="19.99" data-name-en="Tidying & Organizing (per room)" data-name-es="Ordenar y Organizar (por habitaci√≥n)">
                                <div>
                                    <span data-translate="addon_tidying" class="text-sm font-medium">Tidying & Organizing (per room)</span>
                                    <span class="text-sm text-gray-500 ml-2">+$19.99</span>
                                </div>
                                <div class="flex items-center">
                                    <button type="button" data-action="minus" class="quantity-btn">-</button>
                                    <span class="quantity-display">0</span>
                                    <button type="button" data-action="plus" class="quantity-btn">+</button>
                                </div>
                            </div>
                            <!-- Checkbox Add-ons -->
                            <label class="flex items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 cursor-pointer"><input type="checkbox" data-price="surcharge" data-surcharge="0.10" class="h-5 w-5 rounded border-gray-300 text-green-600 brand-ring"><span data-translate="addon_pets" class="ml-3 text-sm font-medium">Heavy Pet Hair</span><span class="ml-auto text-sm text-gray-500">+10%</span></label>
                            <label class="flex items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 cursor-pointer"><input type="checkbox" data-price="39.99" class="h-5 w-5 rounded border-gray-300 text-green-600 brand-ring"><span data-translate="addon_ceilings" class="ml-3 text-sm font-medium">12ft+ Ceilings / Ladder Work</span><span class="ml-auto text-sm text-gray-500">+$39.99</span></label>
                        </div>
                        <p data-translate="addons_note" class="text-xs text-gray-500 mt-4">Note: Interior windows and excess trash removal are quoted separately after a walkthrough or photos.</p>
                    </div>
                </div>
                <!-- Right Side: Quote Summary -->
                <!-- MOBILE RESPONSIVENESS FIX: Removed sticky positioning on mobile -->
                <div class="brand-bg-light rounded-lg p-8 lg:sticky lg:top-8 self-start">
                    <h3 data-translate="quote_summary_headline" class="text-2xl font-bold brand-text">Your Quote Summary</h3>
                    <div class="mt-6 space-y-4">
                        <div class="flex justify-between items-center"><p data-translate="base_price_label" class="text-gray-600">Base Cleaning Price:</p><p id="base-price-display" class="font-semibold text-lg">$0.00</p></div>
                        <div id="addons-summary" class="border-t border-b border-gray-200 py-4 space-y-2"></div>
                        <div class="price-display p-4 rounded-lg mt-4">
                            <div class="flex justify-between items-center">
                                <p data-translate="total_estimate_label" class="text-lg font-bold brand-text">Total Estimate:</p>
                                <div class="flex items-baseline space-x-2">
                                    <p id="total-price-display" class="text-3xl font-extrabold brand-text">$0.00</p>
                                    <span data-translate="plus_tax" class="text-sm font-semibold brand-text">+ Tax</span>
                                </div>
                            </div>
                        </div>
                        <p data-translate="quote_summary_note" class="text-xs text-gray-500 text-center mt-2 mb-6">Final price confirmed after a brief walkthrough. Tax added where applicable.</p>
                    </div>
                    <button id="book-cleaning-btn" data-translate="book_cleaning_btn" class="cta-button w-full text-center brand-bg text-white font-bold rounded-lg px-8 py-4 text-lg shadow-lg">Book Your Cleaning</button>
                </div>
            </div>
        </section>

        <!-- Contact Form Section -->
        <section id="contact" class="mt-20 bg-white p-4 md:p-8 rounded-2xl shadow-xl">
            <div id="contact-form-container">
                <div class="text-center max-w-2xl mx-auto">
                    <h2 data-translate="contact_headline" class="text-3xl font-bold mb-2 brand-text">Ready for a Spotless Home?</h2>
                    <p data-translate="contact_desc" class="text-gray-600 mb-4">Fill out the form below to request a cleaning.</p>
                    <p data-translate="contact_disclaimer" class="text-xs text-gray-500 mb-8">Please note this is a request and not a final booking. We will contact you via your preferred method (phone or email) to confirm details and schedule your appointment.</p>
                </div>
                <form id="contact-form" class="max-w-xl mx-auto">
                    <input type="hidden" name="quote_summary" id="quote-summary-input">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <input id="contact-name" type="text" name="name" data-translate-placeholder="form_name" placeholder="Your Name" required class="w-full p-3 border-2 border-gray-200 rounded-lg brand-ring focus:border-green-500">
                        <input id="contact-email" type="email" name="email" data-translate-placeholder="form_email" placeholder="Your Email" class="w-full p-3 border-2 border-gray-200 rounded-lg brand-ring focus:border-green-500">
                    </div>
                    <div class="mt-4"><input id="contact-phone" type="tel" name="phone" data-translate-placeholder="form_phone" placeholder="Your Phone Number" class="w-full p-3 border-2 border-gray-200 rounded-lg brand-ring focus:border-green-500"></div>
                    <span id="contact-error" data-translate="form_contact_error" class="text-red-600 text-sm mt-1 hidden">Please provide either an email or a phone number.</span>
                    
                    <div class="mt-4">
                        <input id="address-input" type="text" name="address" data-translate-placeholder="form_address" placeholder="Street Address" required class="w-full p-3 border-2 border-gray-200 rounded-lg brand-ring focus:border-green-500">
                        <span id="address-error" data-translate="form_address_error" class="text-red-600 text-sm mt-1 hidden">Please select a full, valid address from the suggestions.</span>
                    </div>
                    <div class="mt-4">
                        <label for="date-input" data-translate="form_date_label" class="text-sm font-medium text-gray-700">Preferred Cleaning Date</label>
                        <input id="date-input" type="text" name="cleaning_date" data-translate-placeholder="form_date_placeholder" placeholder="Select a date" required class="w-full mt-1 p-3 border-2 border-gray-200 rounded-lg brand-ring focus:border-green-500">
                    </div>
                    <div class="mt-4"><textarea id="contact-message" name="message" data-translate-placeholder="form_message" placeholder="Any additional notes for your cleaning?" rows="4" class="w-full p-3 border-2 border-gray-200 rounded-lg brand-ring focus:border-green-500"></textarea></div>
                    <div class="text-center mt-6"><button type="submit" data-translate="form_submit_btn" class="cta-button w-full md:w-auto brand-bg text-white font-bold rounded-lg px-12 py-4 text-lg shadow-lg">Request My Cleaning</button></div>
                </form>
            </div>
        </section>

        <!-- Policies & FAQ Section -->
        <section id="policies" class="my-20">
            <h2 class="text-3xl font-bold text-center mb-10 brand-text" data-translate="policies_headline">Our Policies & Frequently Asked Questions</h2>
            <div class="max-w-4xl mx-auto space-y-8 bg-white p-6 md:p-8 rounded-2xl shadow-xl">
                <div>
                    <h3 class="text-xl font-bold brand-text" data-translate="policy_q1">1. What is your policy for new recurring clients?</h3>
                    <p class="mt-2 text-gray-700" data-translate="policy_a1">To provide the best possible results, we require that the first cleaning service for all new recurring clients be our <strong>Deep Cleaning service</strong>. This service includes cleaning the interior of your main kitchen appliances. If you are uncomfortable with our cleaners handling the inside of your refrigerator, please let us know in advance and remind your cleaning team upon their arrival. This initial deep clean allows us to bring your home to a high standard of cleanliness, making subsequent <strong>Standard Cleaning</strong> visits more effective.</p>
                </div>
                <div>
                    <h3 class="text-xl font-bold brand-text" data-translate="policy_q2">2. Do you offer discounts for regular service?</h3>
                    <p class="mt-2 text-gray-700" data-translate="policy_a2">Absolutely! We believe in rewarding our loyal clients. After your initial Deep Clean, you will receive a <strong>15% discount</strong> on all regularly scheduled bi-weekly or weekly Standard Cleaning services.</p>
                </div>
                <div>
                    <h3 class="text-xl font-bold brand-text" data-translate="policy_q3">3. What if I have to skip or reschedule a cleaning?</h3>
                    <p class="mt-2 text-gray-700" data-translate="policy_a3">We understand that life happens! We kindly request at least <strong>48 hours' notice</strong> for any cancellations or rescheduling. Cancellations made within 48 hours of your appointment may be subject to a small cancellation fee. If a bi-weekly appointment is skipped, your next cleaning will be billed at the full, non-discounted Standard Cleaning rate to account for the extra work needed. Your 15% discount will resume on the following visit.</p>
                </div>
                <div>
                    <h3 class="text-xl font-bold brand-text" data-translate="policy_q4">4. What if I need an extra Deep Clean for a special occasion?</h3>
                    <p class="mt-2 text-gray-700" data-translate="policy_a4">We're happy to help! Please note that your recurring service discount applies exclusively to your regularly scheduled Standard Cleaning visits. Any additional services, like a one-time Deep Clean for a party or event, will be quoted and billed at the full, non-discounted rate.</p>
                </div>
                <div>
                    <h3 class="text-xl font-bold brand-text" data-translate="policy_q5">5. How should I prepare my home for a cleaning?</h3>
                    <p class="mt-2 text-gray-700" data-translate="policy_a5">To ensure the most efficient and effective clean, we kindly request that you pick up any toys, laundry, or other personal items from the floor. This allows our cleaners to focus on providing a deep clean of all surfaces. Our teams do not handle laundry and will clean around cluttered areas. If you need assistance with tidying or organizing, please select our 'Tidying & Organizing' add-on service.</p>
                </div>
                <div>
                    <h3 class="text-xl font-bold brand-text" data-translate="policy_q6">6. Do you wash dishes?</h3>
                    <p class="mt-2 text-gray-700" data-translate="policy_a6">Washing dishes is not included in our standard cleaning packages. We ask that you please clear your sink and countertops to allow our team to properly clean and sanitize these surfaces.</p>
                </div>
                <div class="text-center mt-4">
                    <a href="policies.html" data-translate="full_policy_link" class="font-bold brand-text hover:underline">View Full Service Agreement & Policies</a>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-gray-800 text-white">
        <div class="container mx-auto px-6 py-8 text-center text-sm">
            <img src="https://i.imgur.com/6I3ca1O.png" alt="EverClean Housekeeping Logo" class="h-12 w-12 mx-auto mb-4" loading="lazy" onerror="this.onerror=null; this.src='https://placehold.co/48x48/f0f5f0/54624C?text=Logo';">
            <p data-translate="footer_copyright">&copy; 2025 EverClean Housekeeping. All Rights Reserved.</p>
            <p data-translate="footer_desc" class="mt-2 text-gray-400">A family-owned business serving DeSoto, Midlothian, Cedar Hill, and surrounding communities in the DFW.</p>
        </div>
    </footer>

    <!-- OPTIMIZATION: Added defer to non-critical script -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr" defer></script>

    <script>
        // This variable needs to be in the global scope so the Google Maps callback can find it.
        let isAddressComplete = false;

        function initAutocomplete() {
            const addressInput = document.getElementById('address-input');
            const addressError = document.getElementById('address-error');
            if (addressInput) {
                const options = {
                    componentRestrictions: { country: "us" },
                    fields: ["address_components", "formatted_address", "geometry", "types"],
                    types: ["address"],
                };
                const autocomplete = new google.maps.places.Autocomplete(addressInput, options);

                autocomplete.addListener('place_changed', () => {
                    const place = autocomplete.getPlace();
                    // *** BUG FIX: Check for address_components instead of a specific type ***
                    if (place && place.address_components) {
                        isAddressComplete = true;
                        addressError.classList.add('hidden');
                    } else {
                        isAddressComplete = false;
                    }
                });

                addressInput.addEventListener('input', () => {
                    isAddressComplete = false;
                });
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            // --- TRANSLATION LOGIC ---
            const translations = {
                en: {
                    main_headline: "EverClean Housekeeping",
                    tagline: "Your Local, Family-Owned & Home Cleaning Experts.",
                    service_area: "Proudly serving the Dallas/Fort Worth area, including Waxahachie and Midlothian",
                    get_quote_btn: "Get an Instant Quote",
                    whats_included_headline: "What's Included in Your Clean?",
                    service_standard: "Standard Cleaning",
                    service_deep: "Deep Cleaning",
                    service_move: "Move-In / Move-Out Cleaning",
                    service_post_con: "Post-Construction Cleaning",
                    
                    checklist_part1_title: "Part 1: All Rooms & General Areas",
                    checklist_part1_desc: "These tasks are performed throughout the entire home",
                    checklist_standard_part1: ["Dust all accessible surfaces, including ceiling fans, light fixtures, window sills, and furniture.", "Wipe down all mirrors and glass surfaces.", "Remove all visible cobwebs from corners and ceilings.", "Empty all trash bins and replace liners.", "Vacuum all carpets, rugs, and stairs.", "Sweep and mop all hard-surface floors."],
                    checklist_part2_title: "Part 2: Kitchen",
                    checklist_standard_part2: ["Wipe down the exterior of the refrigerator, oven, and dishwasher.", "Clean the exterior of the microwave.", "Clean and sanitize all countertops and tables.", "Scrub and sanitize the sink and polish the faucet.", "Spot-clean the exterior of all cabinet doors."],
                    checklist_part3_title: "Part 3: Bathrooms",
                    checklist_standard_part3: ["Scrub and disinfect the toilet, including the bowl, seat, and base.", "Scrub and clean the shower, bathtub, and surrounding tile.", "Clean and sanitize countertops and sinks.", "Polish all faucets and fixtures.", "Spot-clean the exterior of all cabinet doors."],
                    checklist_part4_title: "Part 4: Bedrooms & Living Areas",
                    checklist_standard_part4: ["Straighten and fluff pillows and cushions.", "Make beds (if requested by client)."],

                    deep_clean_intro: "This service includes every task from our Standard Cleaning Checklist, PLUS the following detailed work:",
                    checklist_part1_title_deep: "Part 1: All Rooms (Deep Clean Additions)",
                    checklist_deep_part1: ["Hand-wipe all baseboards, door frames, and window sills.", "Wipe down all doors and door handles.", "Hand-wipe all light switches and outlet covers.", "Dust and wipe down air conditioning vents.", "Clean the interior of windows and window tracks."],
                    checklist_part2_title_deep: "Part 2: Kitchen (Deep Clean Additions)",
                    checklist_deep_part2: ["Clean the interior and exterior of main kitchen appliances (oven, refrigerator, microwave).", "Clean the interior and exterior of all cabinets and drawers.", "Degrease and scrub the backsplash.", "Clean the exterior of the stove hood vent."],
                    deep_clean_fridge_note: "Note: If you prefer we not clean the interior of your fridge, please let us know in advance.",
                    checklist_part3_title_deep: "Part 3: Bathrooms (Deep Clean Additions)",
                    checklist_deep_part3: ["Scrub tile grout in the shower and on the floor.", "Clean shower doors, removing built-up soap scum and water spots.", "Clean the interior and exterior of all cabinets, drawers, and medicine cabinets.", "Remove soap and limescale buildup from fixtures."],

                    move_clean_intro: "Our most thorough cleaning for empty homes. Includes all Standard & Deep Cleaning tasks, plus these essentials:",
                    move_clean_req: "Property must be completely empty of all furniture and personal belongings.",
                    checklist_part1_title_move: "Part 1: All Rooms (Move-In/Out Additions)",
                    checklist_move_part1: ["Wipe down all shelves, rods, and walls inside every closet.", "Pay special attention to corners and edges where furniture once stood."],
                    checklist_part2_title_move: "Part 2: Kitchen (Move-In/Out Additions)",
                    checklist_move_part2: ["Wipe down the inside of every cabinet and drawer, removing any old liners and debris.", "Wipe down all shelves and walls in the pantry.", "Clean the interior of the dishwasher, including the filter if accessible."],
                    checklist_part3_title_move: "Part 3: Bathrooms (Move-In/Out Additions)",
                    checklist_move_part3: ["Wipe down the inside of every vanity cabinet, drawer, and medicine cabinet.", "Wipe down and clean vent covers."],

                    post_con_intro: "A specialized, highly detailed clean for newly built or renovated homes to remove all construction dust and debris.",
                    checklist_part1_title_post: "Part 1: All Rooms (Post-Construction Focus)",
                    checklist_post_con_part1: ["Multi-step process of dusting, vacuuming (with HEPA-filters), and wiping all surfaces (horizontal and vertical) to remove fine construction dust.", "Remove all small bits of construction debris.", "Remove all manufacturer stickers and labels from new installations.", "Carefully remove minor paint splatters or caulk residue from non-porous surfaces."],
                    checklist_part2_title_post: "Part 2: Kitchen & Bathrooms (Post-Construction Focus)",
                    checklist_post_con_part2: ["Vacuum and wipe down the inside of every cabinet and drawer to remove sawdust and drywall dust.", "Ensure all new appliances are wiped clean, inside and out.", "Polish all newly installed fixtures to remove fingerprints and dust."],

                    policies_headline: "Our Policies & Frequently Asked Questions",
                    policy_q1: "1. What is your policy for new recurring clients?",
                    policy_a1: "To provide the best possible results, we require that the first cleaning service for all new recurring clients be our <strong>Deep Cleaning service</strong>. This service includes cleaning the interior of your main kitchen appliances. If you are uncomfortable with our cleaners handling the inside of your refrigerator, please let us know in advance and remind your cleaning team upon their arrival. This initial deep clean allows us to bring your home to a high standard of cleanliness, making subsequent <strong>Standard Cleaning</strong> visits more effective.",
                    policy_q2: "2. Do you offer discounts for regular service?",
                    policy_a2: "Absolutely! We believe in rewarding our loyal clients. After your initial Deep Clean, you will receive a <strong>15% discount</strong> on all regularly scheduled bi-weekly or weekly Standard Cleaning services.",
                    policy_q3: "3. What if I have to skip or reschedule a cleaning?",
                    policy_a3: "We understand that life happens! We kindly request at least <strong>48 hours' notice</strong> for any cancellations or rescheduling. Cancellations made within 48 hours of your appointment may be subject to a small cancellation fee. If a bi-weekly appointment is skipped, your next cleaning will be billed at the full, non-discounted Standard Cleaning rate to account for the extra work needed. Your 15% discount will resume on the following visit.",
                    policy_q4: "4. What if I need an extra Deep Clean for a special occasion?",
                    policy_a4: "We're happy to help! Please note that your recurring service discount applies exclusively to your regularly scheduled Standard Cleaning visits. Any additional services, like a one-time Deep Clean for a party or event, will be quoted and billed at the full, non-discounted rate.",
                    policy_q5: "5. How should I prepare my home for a cleaning?",
                    policy_a5: "To ensure the most efficient and effective clean, we kindly request that you pick up any toys, laundry, or other personal items from the floor. This allows our cleaners to focus on providing a deep clean of all surfaces. Our teams do not handle laundry and will clean around cluttered areas. If you need assistance with tidying or organizing, please select our 'Tidying & Organizing' add-on service.",
                    policy_q6: "6. Do you wash dishes?",
                    policy_a6: "Washing dishes is not included in our standard cleaning packages. We ask that you please clear your sink and countertops to allow our team to properly clean and sanitize these surfaces.",
                    full_policy_link: "View Full Service Agreement & Policies",

                    get_estimate_headline: "Get Your Instant Estimate",
                    step1_headline: "Step 1: Choose Your Cleaning Type",
                    step1_desc: "What level of cleaning do you need?",
                    service_standard_desc: "Recurring upkeep",
                    service_deep_desc: "Detailed, top-to-bottom",
                    service_move_desc: "For empty homes",
                    service_post_con_desc: "Dust and debris removal",
                    step2_headline: "Step 2: Tell Us About Your Home",
                    step2_desc: "This helps us understand the scope of work.",
                    sqft_label: "Square Footage",
                    sqft_disclaimer: "Not sure? Select your best guess. We will verify the correct square footage and confirm the final price when we contact you.",
                    bedrooms_label: "Bedrooms",
                    bathrooms_label: "Bathrooms",
                    step3_headline: "Step 3: Customize with Add-Ons",
                    step3_desc: "Select any extras you'd like.",
                    addon_fridge: "Inside Fridge",
                    addon_oven: "Inside Oven",
                    addon_pets: "Heavy Pet Hair",
                    addon_ceilings: "12ft+ Ceilings / Ladder Work",
                    addon_tidying: "Tidying & Organizing (per room)",
                    addons_note: "Note: Interior windows and excess trash removal are quoted separately after a walkthrough or photos.",
                    quote_summary_headline: "Your Quote Summary",
                    base_price_label: "Base Cleaning Price:",
                    total_estimate_label: "Total Estimate:",
                    plus_tax: "+ Tax",
                    quote_summary_note: "Final price confirmed after a brief walkthrough. Tax added where applicable.",
                    book_cleaning_btn: "Book Your Cleaning",
                    contact_headline: "Ready for a Spotless Home?",
                    contact_desc: "Fill out the form below to request a cleaning.",
                    contact_disclaimer: "Please note this is a request and not a final booking. We will contact you via your preferred method (phone or email) to confirm details and schedule your appointment.",
                    form_name: "Your Name",
                    form_email: "Your Email",
                    form_phone: "Your Phone Number",
                    form_address: "Street Address",
                    form_address_error: "Please select a full, valid address from the suggestions.",
                    form_contact_error: "Please provide either an email or a phone number.",
                    form_date_label: "Preferred Cleaning Date",
                    form_date_placeholder: "Select a date",
                    form_message: "Any additional notes for your cleaning?",
                    form_submit_btn: "Request My Cleaning",
                    footer_copyright: "&copy; 2025 EverClean Housekeeping. All Rights Reserved.",
                    footer_desc: "A family-owned business serving DeSoto, Midlothian, Cedar Hill, and surrounding communities in the DFW.",
                    sqft_options: ["up to 1,000 sq ft","1,001 ‚Äì 1,500 sq ft","1,501 ‚Äì 2,000 sq ft","2,001 ‚Äì 2,500 sq ft","2,501 ‚Äì 3,000 sq ft","3,001 ‚Äì 4,000 sq ft","4,001 ‚Äì 5,000 sq ft"]
                },
                es: {
                    main_headline: "EverClean Housekeeping",
                    tagline: "Sus Expertos Locales y Familiares en Limpieza del Hogar.",
                    service_area: "Orgullosamente sirviendo el √°rea de Dallas/Fort Worth, incluyendo Waxahachie y Midlothian",
                    get_quote_btn: "Obtenga una Cotizaci√≥n Instant√°nea",
                    whats_included_headline: "¬øQu√© se Incluye en su Limpieza?",
                    service_standard: "Limpieza Est√°ndar",
                    service_deep: "Limpieza Profunda",
                    service_move: "Limpieza de Mudanza",
                    service_post_con: "Limpieza Post-Construcci√≥n",

                    checklist_part1_title: "Parte 1: Todas las Habitaciones y √Åreas Generales",
                    checklist_part1_desc: "Estas tareas se realizan en toda la casa",
                    checklist_standard_part1: ["Quitar el polvo de todas las superficies accesibles, incluyendo ventiladores de techo, l√°mparas, alf√©izares y muebles.", "Limpiar todos los espejos y superficies de vidrio.", "Eliminar todas las telara√±as visibles de las esquinas y techos.", "Vaciar todos los botes de basura y reemplazar las bolsas.", "Aspirar todas las alfombras, tapetes y escaleras.", "Barrer y trapear todos los pisos de superficie dura."],
                    checklist_part2_title: "Parte 2: Cocina",
                    checklist_standard_part2: ["Limpiar el exterior del refrigerador, horno y lavavajillas.", "Limpiar el exterior del microondas.", "Limpiar y desinfectar todas las encimeras y mesas.", "Fregar y desinfectar el fregadero y pulir el grifo.", "Limpiar manchas en el exterior de las puertas de los gabinetes."],
                    checklist_part3_title: "Parte 3: Ba√±os",
                    checklist_standard_part3: ["Fregar y desinfectar el inodoro, incluyendo la taza, el asiento y la base.", "Fregar y limpiar la ducha, la ba√±era y los azulejos circundantes.", "Limpiar y desinfectar encimeras y lavabos.", "Pulir todos los grifos y accesorios.", "Limpiar manchas en el exterior de las puertas de los gabinetes."],
                    checklist_part4_title: "Parte 4: Dormitorios y Salas de Estar",
                    checklist_standard_part4: ["Acomodar y ahuecar almohadas y cojines.", "Hacer las camas (si lo solicita el cliente)."],

                    deep_clean_intro: "Este servicio incluye todas las tareas de nuestra Lista de Limpieza Est√°ndar, M√ÅS el siguiente trabajo detallado:",
                    checklist_part1_title_deep: "Parte 1: Todas las Habitaciones (Adiciones de Limpieza Profunda)",
                    checklist_deep_part1: ["Limpiar a mano todos los z√≥calos, marcos de puertas y alf√©izares.", "Limpiar todas las puertas y manijas.", "Limpiar a mano todos los interruptores de luz y tapas de enchufes.", "Quitar el polvo y limpiar las rejillas de ventilaci√≥n del aire acondicionado.", "Limpiar el interior de las ventanas y los rieles de las ventanas."],
                    checklist_part2_title_deep: "Parte 2: Cocina (Adiciones de Limpieza Profunda)",
                    checklist_deep_part2: ["Limpiar el interior y exterior de los electrodom√©sticos principales de la cocina (horno, refrigerador, microondas).", "Limpiar el interior y exterior de todos los gabinetes y cajones.", "Desengrasar y fregar el protector contra salpicaduras.", "Limpiar el exterior de la campana extractora."],
                    deep_clean_fridge_note: "Nota: Si prefiere que no limpiemos el interior de su refrigerador, por favor av√≠senos con anticipaci√≥n.",
                    checklist_part3_title_deep: "Parte 3: Ba√±os (Adiciones de Limpieza Profunda)",
                    checklist_deep_part3: ["Fregar la lechada de los azulejos en la ducha y en el piso.", "Limpiar las puertas de la ducha, eliminando la acumulaci√≥n de jab√≥n y las manchas de agua.", "Limpiar el interior y exterior de todos los gabinetes, cajones y botiquines.", "Eliminar la acumulaci√≥n de jab√≥n y cal de los accesorios."],

                    move_clean_intro: "Nuestra limpieza m√°s completa para casas vac√≠as. Incluye todas las tareas de Limpieza Est√°ndar y Profunda, m√°s estos esenciales:",
                    move_clean_req: "La propiedad debe estar completamente vac√≠a de muebles y pertenencias personales.",
                    checklist_part1_title_move: "Parte 1: Todas las Habitaciones (Adiciones de Mudanza)",
                    checklist_move_part1: ["Limpiar todos los estantes, barras y paredes dentro de cada armario.", "Prestar especial atenci√≥n a las esquinas y bordes donde antes hab√≠a muebles."],
                    checklist_part2_title_move: "Parte 2: Cocina (Adiciones de Mudanza)",
                    checklist_move_part2: ["Limpiar el interior de cada gabinete y caj√≥n, eliminando revestimientos viejos y escombros.", "Limpiar todos los estantes y paredes de la despensa.", "Limpiar el interior del lavavajillas, incluido el filtro si es accesible."],
                    checklist_part3_title_move: "Parte 3: Ba√±os (Adiciones de Mudanza)",
                    checklist_move_part3: ["Limpiar el interior de cada gabinete de tocador, caj√≥n y botiqu√≠n.", "Limpiar las cubiertas de los extractores de aire."],

                    post_con_intro: "Una limpieza especializada y muy detallada para casas reci√©n construidas o renovadas para eliminar todo el polvo y los escombros de la construcci√≥n.",
                    checklist_part1_title_post: "Parte 1: Todas las Habitaciones (Enfoque Post-Construcci√≥n)",
                    checklist_post_con_part1: ["Proceso de varios pasos de quitar el polvo, aspirar (con filtros HEPA) y limpiar todas las superficies (horizontales y verticales) para eliminar el polvo fino de la construcci√≥n.", "Eliminar todos los peque√±os trozos de escombros de construcci√≥n.", "Retirar todas las pegatinas y etiquetas del fabricante de las nuevas instalaciones.", "Eliminar con cuidado peque√±as salpicaduras de pintura o residuos de masilla de superficies no porosas."],
                    checklist_part2_title_post: "Parte 2: Cocina y Ba√±os (Enfoque Post-Construcci√≥n)",
                    checklist_post_con_part2: ["Aspirar y limpiar el interior de cada gabinete y caj√≥n para eliminar el aserr√≠n y el polvo de yeso.", "Asegurarse de que todos los electrodom√©sticos nuevos est√©n limpios por dentro y por fuera.", "Pulir todos los accesorios reci√©n instalados para eliminar huellas dactilares y polvo."],
                    
                    policies_headline: "Nuestras Pol√≠ticas y Preguntas Frecuentes",
                    policy_q1: "1. ¬øCu√°l es su pol√≠tica para nuevos clientes recurrentes?",
                    policy_a1: "Para asegurar los mejores resultados, requerimos que el primer servicio para nuevos clientes recurrentes sea nuestra <strong>Limpieza Profunda</strong>. Este servicio incluye la limpieza interior de sus electrodom√©sticos de cocina principales. Si no se siente c√≥modo con que nuestros limpiadores manejen el interior de su refrigerador, por favor av√≠senos con anticipaci√≥n y recu√©rdeselo a su equipo de limpieza a su llegada. Esta limpieza profunda inicial nos permite llevar su hogar a un alto est√°ndar de limpieza, haciendo que las visitas posteriores de <strong>Limpieza Est√°ndar</strong> sean m√°s efectivas.",
                    policy_q2: "2. ¬øOfrecen descuentos por servicio regular?",
                    policy_a2: "¬°Absolutamente! Recompensamos a nuestros clientes leales. Despu√©s de su Limpieza Profunda inicial, recibir√° un <strong>descuento del 15%</strong> en todos los servicios de Limpieza Est√°ndar programados regularmente de forma quincenal o semanal.",
                    policy_q3: "3. ¬øQu√© pasa si tengo que omitir o reprogramar una limpieza?",
                    policy_a3: "¬°Entendemos que surgen imprevistos! Le pedimos amablemente un preaviso de al menos <strong>48 horas</strong> para cualquier cancelaci√≥n o reprogramaci√≥n. Las cancelaciones dentro de las 48 horas pueden estar sujetas a una peque√±a tarifa. Si se omite una cita quincenal, su pr√≥xima limpieza se facturar√° a la tarifa completa, sin descuento, para compensar el trabajo adicional. Su descuento del 15% se reanudar√° en la siguiente visita.",
                    policy_q4: "4. ¬øQu√© pasa si necesito una Limpieza Profunda extra para una ocasi√≥n especial?",
                    policy_a4: "¬°Estamos felices de ayudar! Su descuento de servicio recurrente se aplica exclusivamente a sus visitas de Limpieza Est√°ndar programadas. Cualquier servicio adicional, como una Limpieza Profunda √∫nica, se cotizar√° y facturar√° por separado a las tarifas completas.",
                    policy_q5: "5. ¬øC√≥mo debo preparar mi casa para una limpieza?",
                    policy_a5: "Para asegurar la limpieza m√°s eficiente, le pedimos amablemente que recoja juguetes, ropa u otros art√≠culos personales del suelo. Esto permite a nuestros limpiadores enfocarse en una limpieza profunda de todas las superficies. Nuestros equipos no manejan ropa y limpiar√°n alrededor de las √°reas desordenadas. Si necesita ayuda para ordenar, por favor seleccione nuestro servicio adicional de 'Ordenar y Organizar'.",
                    policy_q6: "6. ¬øLavan los platos?",
                    policy_a6: "El lavado de platos no est√° incluido en nuestros paquetes de limpieza est√°ndar. Le pedimos que despeje su fregadero y encimeras para permitir que nuestro equipo limpie y desinfecte adecuadamente estas superficies.",
                    full_policy_link: "Ver Acuerdo de Servicio y Pol√≠ticas Completas",

                    get_estimate_headline: "Obtenga su Estimaci√≥n Instant√°nea",
                    step1_headline: "Paso 1: Elija su Tipo de Limpieza",
                    step1_desc: "¬øQu√© nivel de limpieza necesita?",
                    service_standard_desc: "Mantenimiento recurrente",
                    service_deep_desc: "Detallada, de arriba a abajo",
                    service_move_desc: "Para casas vac√≠as",
                    service_post_con_desc: "Eliminaci√≥n de polvo y escombros",
                    step2_headline: "Paso 2: Cu√©ntenos Sobre su Hogar",
                    step2_desc: "Esto nos ayuda a entender el alcance del trabajo.",
                    sqft_label: "Pies Cuadrados",
                    sqft_disclaimer: "¬øNo est√° seguro? Seleccione su mejor estimaci√≥n. Verificaremos los pies cuadrados correctos y confirmaremos el precio final cuando nos comuniquemos con usted.",
                    bedrooms_label: "Dormitorios",
                    bathrooms_label: "Ba√±os",
                    step3_headline: "Paso 3: Personalice con Adicionales",
                    step3_desc: "Seleccione los extras que desee.",
                    addon_fridge: "Interior del Refrigerador",
                    addon_oven: "Interior del Horno",
                    addon_pets: "Pelo de Mascota Abundante",
                    addon_ceilings: "Techos de 12ft+ / Trabajo con Escalera",
                    addon_tidying: "Ordenar y Organizar (por habitaci√≥n)",
                    addons_note: "Nota: La limpieza de ventanas interiores y la eliminaci√≥n de basura en exceso se cotizan por separado despu√©s de una visita o fotos.",
                    quote_summary_headline: "Resumen de su Cotizaci√≥n",
                    base_price_label: "Precio Base de Limpieza:",
                    total_estimate_label: "Estimaci√≥n Total:",
                    plus_tax: "+ Impuestos",
                    quote_summary_note: "El precio final se confirma despu√©s de una breve visita. Se a√±adir√°n impuestos donde corresponda.",
                    book_cleaning_btn: "Reservar su Limpieza",
                    contact_headline: "¬øListo para un Hogar Impecable?",
                    contact_desc: "Llene el siguiente formulario para solicitar una limpieza.",
                    contact_disclaimer: "Tenga en cuenta que esta es una solicitud y no una reserva final. Nos pondremos en contacto con usted a trav√©s de su m√©todo preferido (tel√©fono o correo electr√≥nico) para confirmar los detalles y programar su cita.",
                    form_name: "Su Nombre",
                    form_email: "Su Correo Electr√≥nico",
                    form_phone: "Su N√∫mero de Tel√©fono",
                    form_address: "Direcci√≥n",
                    form_address_error: "Por favor, seleccione una direcci√≥n completa y v√°lida de las sugerencias.",
                    form_contact_error: "Por favor, proporcione un correo electr√≥nico o un n√∫mero de tel√©fono.",
                    form_date_label: "Fecha de Limpieza Preferida",
                    form_date_placeholder: "Seleccione una fecha",
                    form_message: "¬øAlguna nota adicional para su limpieza?",
                    form_submit_btn: "Solicitar mi Limpieza",
                    footer_copyright: "&copy; 2025 EverClean Housekeeping. Todos los derechos reservados.",
                    footer_desc: "Un negocio familiar que sirve a DeSoto, Midlothian, Cedar Hill y las comunidades circundantes en el DFW.",
                    sqft_options: ["hasta 1,000 pies¬≤","1,001 ‚Äì 1,500 pies¬≤","1,501 ‚Äì 2,000 pies¬≤","2,001 ‚Äì 2,500 pies¬≤","2,501 ‚Äì 3,000 pies¬≤","3,001 ‚Äì 4,000 pies¬≤","4,001 ‚Äì 5,000 pies¬≤"]
                }
            };

            const langEnBtn = document.getElementById('lang-en');
            const langEsBtn = document.getElementById('lang-es');

            function translatePage(lang) {
                document.documentElement.lang = lang; // Set the lang attribute on the html tag
                document.querySelectorAll('[data-translate]').forEach(el => {
                    const key = el.dataset.translate;
                    if (translations[lang] && translations[lang][key]) {
                        el.innerHTML = translations[lang][key];
                    }
                });
                document.querySelectorAll('[data-translate-placeholder]').forEach(el => {
                    const key = el.dataset.translatePlaceholder;
                    if (translations[lang] && translations[lang][key]) {
                        el.placeholder = translations[lang][key];
                    }
                });
                document.querySelectorAll('[data-translate-list]').forEach(ul => {
                    const key = ul.dataset.translateList;
                    if (translations[lang] && translations[lang][key]) {
                        ul.innerHTML = translations[lang][key].map(item => `<li>${item}</li>`).join('');
                    }
                });
                 document.querySelectorAll('[data-translate-options]').forEach(select => {
                    const key = select.dataset.translateOptions;
                    if (translations[lang] && translations[lang][key]) {
                        select.querySelectorAll('option').forEach((option, index) => {
                            option.textContent = translations[lang][key][index];
                        });
                    }
                });

                if (lang === 'es') {
                    langEsBtn.classList.add('active');
                    langEnBtn.classList.remove('active');
                } else {
                    langEnBtn.classList.add('active');
                    langEsBtn.classList.remove('active');
                }
                localStorage.setItem('language', lang);
            }

            langEnBtn.addEventListener('click', () => translatePage('en'));
            langEsBtn.addEventListener('click', () => translatePage('es'));
            
            const pricingData = {
                standard: [119.99, 149.99, 179.99, 209.99, 239.99, 279.99, 329.99],
                multipliers: { standard: 1.0, deep: 1.4, move_in_out: 1.5, post_construction: 1.7 }
            };
            const cleaningTypeContainer = document.getElementById('cleaning-type');
            const sqftSelect = document.getElementById('sqft-select');
            const bedSelect = document.getElementById('bed-select');
            const bathSelect = document.getElementById('bath-select');
            const addonsContainer = document.getElementById('addons');
            const basePriceDisplay = document.getElementById('base-price-display');
            const totalPriceDisplay = document.getElementById('total-price-display');
            const addonsSummaryContainer = document.getElementById('addons-summary');
            const quoteSummaryInput = document.getElementById('quote-summary-input');
            const contactForm = document.getElementById('contact-form');
            const contactFormContainer = document.getElementById('contact-form-container');
            const bookCleaningBtn = document.getElementById('book-cleaning-btn');
            const phoneInput = document.getElementById('contact-phone');
            const emailInput = document.getElementById('contact-email');
            
            flatpickr("#date-input", {
                altInput: true,
                altFormat: "F j, Y",
                dateFormat: "Y-m-d",
                minDate: "today"
            });

            let selectedCleaningType = 'deep';
            let selectedSqftIndex = 3;
            let currentQuote = 0;

            function formatCurrency(amount) {
                return new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(amount);
            }

            function calculateAndDisplayPrice() {
                const standardPrice = pricingData.standard[selectedSqftIndex];
                const multiplier = pricingData.multipliers[selectedCleaningType];
                const basePrice = standardPrice * multiplier;
                let addonsTotal = 0;
                let petSurcharge = 0;
                addonsSummaryContainer.innerHTML = '';

                // Handle numerical add-ons
                addonsContainer.querySelectorAll('[data-price]:not([type="checkbox"])').forEach(addon => {
                    const price = parseFloat(addon.dataset.price);
                    const quantity = parseInt(addon.querySelector('.quantity-display').textContent);
                    if (quantity > 0) {
                        const name = localStorage.getItem('language') === 'es' ? addon.dataset.nameEs : addon.dataset.nameEn;
                        const cost = price * quantity;
                        addonsTotal += cost;

                        const summaryItem = document.createElement('div');
                        summaryItem.className = 'flex justify-between items-center text-sm';
                        summaryItem.innerHTML = `<p class="text-gray-600">${name} (x${quantity})</p><p class="font-medium">${formatCurrency(cost)}</p>`;
                        addonsSummaryContainer.appendChild(summaryItem);
                    }
                });

                // Handle checkbox add-ons
                const addonCheckboxes = addonsContainer.querySelectorAll('input[type="checkbox"]:checked');
                addonCheckboxes.forEach(checkbox => {
                    const price = parseFloat(checkbox.dataset.price);
                    const surcharge = parseFloat(checkbox.dataset.surcharge);
                    const name = checkbox.nextElementSibling.textContent;
                    let cost = 0;
                    if (checkbox.dataset.price === 'surcharge') {
                        petSurcharge = basePrice * surcharge;
                        cost = petSurcharge;
                    } else {
                        addonsTotal += price;
                        cost = price;
                    }
                    const summaryItem = document.createElement('div');
                    summaryItem.className = 'flex justify-between items-center text-sm';
                    summaryItem.innerHTML = `<p class="text-gray-600">${name}</p><p class="font-medium">${formatCurrency(cost)}</p>`;
                    addonsSummaryContainer.appendChild(summaryItem);
                });

                if (addonsSummaryContainer.innerHTML === '') {
                    addonsSummaryContainer.innerHTML = '<p data-translate="no_addons" class="text-sm text-gray-400 text-center">No add-ons selected.</p>';
                    if (localStorage.getItem('language') === 'es') {
                        addonsSummaryContainer.querySelector('p').textContent = 'No hay adicionales seleccionados.';
                    }
                }
                const totalPrice = basePrice + addonsTotal + petSurcharge;
                currentQuote = totalPrice;
                basePriceDisplay.textContent = formatCurrency(basePrice);
                totalPriceDisplay.textContent = formatCurrency(totalPrice);
            }

            function populateQuoteSummary() {
                const cleaningTypeText = document.querySelector(`#cleaning-type .option-card[data-value="${selectedCleaningType}"] h4`).textContent;
                const sqftText = sqftSelect.options[sqftSelect.selectedIndex].text;
                const bedText = bedSelect.value;
                const bathText = bathSelect.value;
                
                let addonsList = [];
                // Get numerical add-ons
                addonsContainer.querySelectorAll('[data-price]:not([type="checkbox"])').forEach(addon => {
                    const quantity = parseInt(addon.querySelector('.quantity-display').textContent);
                    if (quantity > 0) {
                        const name = localStorage.getItem('language') === 'es' ? addon.dataset.nameEs : addon.dataset.nameEn;
                        addonsList.push(`${name} (x${quantity})`);
                    }
                });
                // Get checkbox add-ons
                addonsContainer.querySelectorAll('input[type="checkbox"]:checked').forEach(cb => {
                    addonsList.push(cb.nextElementSibling.textContent);
                });

                let summary = `SERVICE QUOTE DETAILS:\n`;
                summary += `-----------------------\n`;
                summary += `Service Type: ${cleaningTypeText}\n`;
                summary += `Home Size: ${sqftText}\n`;
                summary += `Bedrooms: ${bedText}\n`;
                summary += `Bathrooms: ${bathText}\n`;
                summary += `Add-ons: ${addonsList.length > 0 ? addonsList.join(', ') : 'None'}\n`;
                summary += `Estimated Price: ${formatCurrency(currentQuote)} + Tax\n`;
                
                quoteSummaryInput.value = summary;
            }

            function formatPhoneNumber(event) {
                const input = event.target;
                let digits = input.value.replace(/\D/g, '');
                digits = digits.substring(0, 10);
                const areaCode = digits.substring(0, 3);
                const middle = digits.substring(3, 6);
                const last = digits.substring(6, 10);

                if (digits.length > 6) {
                    input.value = `(${areaCode}) ${middle}-${last}`;
                } else if (digits.length > 3) {
                    input.value = `(${areaCode}) ${middle}`;
                } else if (digits.length > 0) {
                    input.value = `(${areaCode}`;
                }
            }

            cleaningTypeContainer.addEventListener('click', function(e) {
                const card = e.target.closest('.option-card');
                if (!card) return;
                selectedCleaningType = card.dataset.value;
                cleaningTypeContainer.querySelectorAll('.option-card').forEach(c => c.classList.remove('selected-option'));
                card.classList.add('selected-option');
                calculateAndDisplayPrice();
            });
            sqftSelect.addEventListener('change', function() {
                selectedSqftIndex = parseInt(this.value);
                calculateAndDisplayPrice();
            });
            
            addonsContainer.addEventListener('click', function(e) {
                const button = e.target.closest('.quantity-btn');
                if (button) {
                    const display = button.parentElement.querySelector('.quantity-display');
                    let quantity = parseInt(display.textContent);
                    if (button.dataset.action === 'plus') {
                        quantity++;
                    } else if (button.dataset.action === 'minus' && quantity > 0) {
                        quantity--;
                    }
                    display.textContent = quantity;
                    calculateAndDisplayPrice();
                } else if (e.target.type === 'checkbox') {
                    calculateAndDisplayPrice();
                }
            });
            
            bookCleaningBtn.addEventListener('click', function() {
                document.getElementById('contact').scrollIntoView({ behavior: 'smooth' });
            });

            phoneInput.addEventListener('input', formatPhoneNumber);
            
            contactForm.addEventListener("submit", function(e) {
                e.preventDefault();

                const phoneValue = phoneInput.value.trim();
                const emailValue = emailInput.value.trim();
                const contactError = document.getElementById('contact-error');

                if (!phoneValue && !emailValue) {
                    contactError.classList.remove('hidden');
                    return;
                } else {
                    contactError.classList.add('hidden');
                }

                // *** BUG FIX: Final check for address validity on submit ***
                if (!isAddressComplete) {
                    const addressError = document.getElementById('address-error');
                    addressError.classList.remove('hidden');
                    document.getElementById('address-input').focus();
                    return;
                }
                
                populateQuoteSummary();

                const form = e.target;
                const data = new FormData(form);
                const submitButton = form.querySelector('button[type="submit"]');
                const originalButtonText = submitButton.textContent;
                
                submitButton.disabled = true;
                submitButton.textContent = 'Submitting...';
                
                fetch("/.netlify/functions/send-email", {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(Object.fromEntries(data))
                }).then(response => {
                    if (response.ok) {
                        contactFormContainer.innerHTML = `
                            <div class="text-center p-8">
                                <h3 data-translate="thank_you_headline" class="text-2xl font-bold brand-text">Thank You!</h3>
                                <p data-translate="thank_you_desc" class="text-gray-600 mt-4">Your request has been submitted successfully. We will be in touch shortly!</p>
                            </div>
                        `;
                         // Re-apply translation after updating content
                        const savedLang = localStorage.getItem('language') || 'en';
                        translatePage(savedLang);
                    } else {
                       return response.json().then(data => {
                            throw new Error(data.message || 'Something went wrong');
                       });
                    }
                }).catch(error => {
                    console.error('Submission Error:', error);
                    // Use a more user-friendly modal/message box instead of alert
                    const errorDiv = document.createElement('div');
                    errorDiv.className = 'text-red-600 text-center font-bold p-4';
                    errorDiv.textContent = `Oops! There was a problem submitting your form. Please try again.`;
                    form.prepend(errorDiv);

                    submitButton.disabled = false;
                    submitButton.textContent = originalButtonText;
                });
            });


            calculateAndDisplayPrice();
            const savedLang = localStorage.getItem('language') || 'en';
            translatePage(savedLang);

        });
    </script>
    <!-- 
      IMPORTANT: You must replace 'YOUR_API_KEY' with your actual Google Maps Platform API key 
      for the address autocomplete to work on your live website.
    -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBCdaTKyutpsQYR86OYiqM0v8cU74ltvks&libraries=places&callback=initAutocomplete" async defer></script>

</body>
</html>
