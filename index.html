<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EverClean Housekeeping - Professional Cleaning Services in DeSoto, TX</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
        }
        /* Brand Color Scheme */
        .hero-bg { background-color: #f0f5f0; }
        .brand-text { color: #54624C; }
        .brand-bg { background-color: #8E9E82; }
        .brand-bg-light { background-color: #f0f5f0; }
        .brand-border { border-color: #8E9E82; }
        .brand-ring:focus { --tw-ring-color: #8E9E82; }
        .selected-option {
            border-color: #8E9E82;
            box-shadow: 0 0 0 2px #8E9E82;
            background-color: #f0f5f0;
        }
        .cta-button { transition: all 0.3s ease; }
        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            filter: brightness(1.05);
        }
        .price-display {
            background-color: #e8ede7;
            border-left: 5px solid #8E9E82;
        }
        .option-card { transition: all 0.2s ease-in-out; }
        .checklist-accordion summary { cursor: pointer; outline: none; }
        .checklist-accordion summary::-webkit-details-marker { display: none; }
        
        /* Google Autocomplete Dropdown Styling */
        .pac-container {
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            border: 1px solid #e5e7eb;
            z-index: 1000;
        }
        .pac-item { padding: 0.75rem; font-size: 0.875rem; cursor: pointer; }
        .pac-item:hover { background-color: #f3f4f6; }
        .pac-item-query { font-weight: 600; }

        /* NEW: Custom Flatpickr Calendar Styling */
        .flatpickr-calendar {
            background-color: #ffffff;
            border-radius: 0.5rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .flatpickr-day.selected, .flatpickr-day.startRange, .flatpickr-day.endRange {
            background: #8E9E82; /* brand-bg */
            border-color: #8E9E82;
        }
        .flatpickr-day:hover {
            background: #f0f5f0; /* hero-bg */
        }
        .flatpickr-months .flatpickr-month {
            color: #54624C; /* brand-text */
            fill: #54624C;
        }
        .flatpickr-current-month .flatpickr-monthDropdown-months {
            color: #54624C;
        }
        .flatpickr-weekdays {
            background: #f0f5f0;
        }
        .flatpickr-weekday {
            color: #54624C;
            font-weight: 600;
        }
        /* Language Toggle Styles */
        .lang-toggle button.active {
            background-color: #8E9E82;
            color: white;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <div class="bg-gray-800 text-white">
        <div class="container mx-auto px-6 py-2 flex justify-end items-center">
            <div class="lang-toggle bg-gray-700 rounded-full p-1 flex text-sm">
                <button id="lang-en" class="px-3 py-1 rounded-full active">English</button>
                <button id="lang-es" class="px-3 py-1 rounded-full">Espa√±ol</button>
            </div>
        </div>
    </div>

    <header class="hero-bg">
        <div class="container mx-auto px-6 py-12 text-center">
            <img src="https://googleusercontent.com/file_content/4" alt="EverClean Housekeeping Logo" class="h-24 w-24 mx-auto mb-4" onerror="this.style.display='none'">
            <h1 data-translate="main_headline" class="text-4xl md:text-6xl font-extrabold brand-text leading-tight">
                EverClean Housekeeping
            </h1>
            <p data-translate="tagline" class="mt-4 text-lg text-gray-600">Your Local, Family-Owned & Home Cleaning Experts.</p>
            <p data-translate="service_area" class="text-md text-gray-500">Proudly serving the Dallas/Fort Worth area, including Waxahachie and Midlothian</p>
            <a href="#calculator" data-translate="get_quote_btn" class="cta-button mt-8 inline-block brand-bg text-white font-bold rounded-lg px-8 py-4 text-lg shadow-lg">Get an Instant Quote</a>
        </div>
    </header>

    <main class="container mx-auto px-6 py-16">

        <section id="services" class="mb-20">
            <h2 data-translate="whats_included_headline" class="text-3xl font-bold text-center mb-10 brand-text">What's Included in Your Clean?</h2>
            <div class="max-w-4xl mx-auto space-y-4">
                <details class="checklist-accordion bg-white p-6 rounded-lg shadow-md group">
                    <summary class="flex justify-between items-center font-bold text-lg"><span data-translate="service_standard">Standard Cleaning</span><svg class="w-5 h-5 transform group-open:rotate-180 transition-transform" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg></summary>
                    <div class="mt-4 grid md:grid-cols-2 gap-x-8 gap-y-4 text-sm text-gray-700">
                        <div><h4 data-translate="kitchen" class="font-semibold mb-2">Kitchen</h4><ul class="list-disc list-inside space-y-1" data-translate-list="checklist_standard_kitchen"><li>Clean exterior of all appliances</li><li>Clean tables and countertops</li><li>Clean and disinfect sink</li><li>Clean exterior of cabinets</li><li>Sweep and mop floors</li></ul></div>
                        <div><h4 data-translate="bathrooms" class="font-semibold mb-2">Bathrooms</h4><ul class="list-disc list-inside space-y-1" data-translate-list="checklist_standard_bathrooms"><li>Clean bathtub/shower</li><li>Disinfect sinks and polish fixtures</li><li>Clean and disinfect toilet</li><li>Clean mirrors</li><li>Sweep and mop floors</li></ul></div>
                        <div><h4 data-translate="bedrooms" class="font-semibold mb-2">Bedrooms</h4><ul class="list-disc list-inside space-y-1" data-translate-list="checklist_standard_bedrooms"><li>Dust dressers, lamps, picture frames</li><li>Dust ceiling fan</li><li>Clean mirrors</li><li>Sweep and mop floors</li></ul></div>
                        <div><h4 data-translate="common_areas" class="font-semibold mb-2">All Common Areas</h4><ul class="list-disc list-inside space-y-1" data-translate-list="checklist_standard_common"><li>Organize cushions</li><li>Dust all decorations and surfaces</li><li>Basic organization</li><li>Sweep and mop floors</li></ul></div>
                    </div>
                </details>
                <details class="checklist-accordion bg-white p-6 rounded-lg shadow-md group">
                    <summary class="flex justify-between items-center font-bold text-lg"><span data-translate="service_deep">Deep Cleaning</span><svg class="w-5 h-5 transform group-open:rotate-180 transition-transform" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg></summary>
                    <div class="mt-4 grid md:grid-cols-2 gap-x-8 gap-y-4 text-sm text-gray-700">
                        <div><h4 data-translate="deep_includes" class="font-semibold mb-2">Includes Everything in Standard, PLUS:</h4><ul class="list-disc list-inside space-y-1 font-semibold brand-text" data-translate-list="checklist_deep_plus"><li>Detailed baseboard cleaning</li><li>Clean interior of windows</li><li>Remove cobwebs from ceilings & fans</li><li>Clean air vents</li><li>Clean switches/power outlets</li></ul></div>
                        <div><h4 data-translate="kitchen_focus" class="font-semibold mb-2">Kitchen Focus</h4><ul class="list-disc list-inside space-y-1" data-translate-list="checklist_deep_kitchen"><li>Clean exterior and interior of cabinets</li><li>Clean refrigerator (inside & out)</li></ul></div>
                        <div><h4 data-translate="bathroom_focus" class="font-semibold mb-2">Bathroom Focus</h4><ul class="list-disc list-inside space-y-1" data-translate-list="checklist_deep_bathroom"><li>Clean shower door</li><li>Remove water marks from walls</li><li>Clean bathroom walls</li></ul></div>
                    </div>
                </details>
                <details class="checklist-accordion bg-white p-6 rounded-lg shadow-md group">
                    <summary class="flex justify-between items-center font-bold text-lg"><span data-translate="service_move">Move-In / Move-Out Cleaning</span><svg class="w-5 h-5 transform group-open:rotate-180 transition-transform" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg></summary>
                     <div class="mt-4 text-sm text-gray-700">
                        <p data-translate="move_desc" class="mb-4 font-semibold">Our most comprehensive clean for empty homes. Includes all Deep Cleaning tasks, with a special focus on preparing a home for the next resident.</p>
                        <div class="grid md:grid-cols-2 gap-x-8 gap-y-4">
                            <div><h4 data-translate="key_additions" class="font-semibold mb-2">Key Additions</h4><ul class="list-disc list-inside space-y-1" data-translate-list="checklist_move_additions"><li>Clean inside all cabinets and drawers</li><li>Clean inside oven and dishwasher</li><li>Clean inside all closets</li><li>Clean heat vents and medicine cabinets</li></ul></div>
                            <div><h4 data-translate="property_condition" class="font-semibold mb-2">Property Condition</h4><ul class="list-disc list-inside space-y-1" data-translate-list="checklist_move_conditions"><li>Property must be empty and unfurnished</li><li>Water and electricity must be on</li></ul></div>
                        </div>
                    </div>
                </details>
                <details class="checklist-accordion bg-white p-6 rounded-lg shadow-md group">
                    <summary class="flex justify-between items-center font-bold text-lg"><span data-translate="service_post_con">Post-Construction Cleaning</span><svg class="w-5 h-5 transform group-open:rotate-180 transition-transform" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg></summary>
                    <div class="mt-4 text-sm text-gray-700">
                        <p data-translate="post_con_desc" class="mb-4 font-semibold">Specialized cleaning to remove all dust and debris from recent construction or renovation.</p>
                        <div class="grid md:grid-cols-2 gap-x-8 gap-y-4">
                            <div><h4 data-translate="primary_focus" class="font-semibold mb-2">Primary Focus</h4><ul class="list-disc list-inside space-y-1" data-translate-list="checklist_post_con_focus"><li>Dust all surfaces, fans, and fixtures</li><li>Scrape paint off floors and other surfaces</li><li>Clean all windows (inside)</li><li>Deep clean of all cabinets (inside & out)</li><li>Thorough sweep and mop of all floors</li></ul></div>
                            <div><h4 data-translate="areas_covered" class="font-semibold mb-2">Areas Covered</h4><ul class="list-disc list-inside space-y-1" data-translate-list="checklist_post_con_areas"><li>Kitchen</li><li>Laundry Room</li><li>Bathrooms</li><li>Living Room & Bedrooms</li></ul></div>
                        </div>
                    </div>
                </details>
            </div>
        </section>

        <section id="policies" class="mb-20">
            <h2 class="text-3xl font-bold text-center mb-10 brand-text" data-translate="policies_headline">Our Policies & Frequently Asked Questions</h2>
            <div class="max-w-4xl mx-auto space-y-8 bg-white p-8 rounded-2xl shadow-xl">
                <div>
                    <h3 class="text-xl font-bold brand-text" data-translate="policy_q1">1. What is your policy for new recurring clients?</h3>
                    <p class="mt-2 text-gray-700" data-translate="policy_a1">To provide the best possible results, we require that the first cleaning service for all new recurring clients be our <strong>Deep Cleaning service</strong>. This allows us to bring your home to a high standard of cleanliness, making our subsequent <strong>Standard Cleaning</strong> visits more effective at maintaining that sparkle.</p>
                </div>
                <div>
                    <h3 class="text-xl font-bold brand-text" data-translate="policy_q2">2. Do you offer discounts for regular service?</h3>
                    <p class="mt-2 text-gray-700" data-translate="policy_a2">Absolutely! We believe in rewarding our loyal clients. After your initial Deep Clean, you will receive a <strong>15% discount</strong> on all regularly scheduled bi-weekly or weekly Standard Cleaning services.</p>
                </div>
                <div>
                    <h3 class="text-xl font-bold brand-text" data-translate="policy_q3">3. What if I have to skip or reschedule a cleaning?</h3>
                    <p class="mt-2 text-gray-700" data-translate="policy_a3">We understand that life happens! We kindly request at least <strong>48 hours' notice</strong> for any cancellations or rescheduling. Cancellations made within 48 hours of your appointment may be subject to a small cancellation fee. If a bi-weekly appointment is skipped, your next cleaning will be billed at the full, non-discounted Standard Cleaning rate to account for the extra work needed. Your 15% discount will resume on the following visit.</p>
                </div>
                <div>
                    <h3 class="text-xl font-bold brand-text" data-translate="policy_q4">4. What if I need an extra Deep Clean for a special occasion?</h3>
                    <p class="mt-2 text-gray-700" data-translate="policy_a4">We're happy to help! Please note that your recurring service discount applies exclusively to your regularly scheduled Standard Cleaning visits. Any additional services, like a one-time Deep Clean for a party or event, will be quoted and billed at the full, non-discounted rate.</p>
                </div>
            </div>
        </section>

        <section id="calculator" class="bg-white p-8 rounded-2xl shadow-xl">
            <div class="grid lg:grid-cols-2 gap-12">
                <div>
                    <div><h3 data-translate="get_estimate_headline" class="text-2xl font-bold mb-4 text-center brand-text">Get Your Instant Estimate</h3></div>
                    <div>
                        <h3 data-translate="step1_headline" class="text-xl font-bold mb-1">Step 1: Choose Your Cleaning Type</h3>
                        <p data-translate="step1_desc" class="text-gray-500 mb-4">What level of cleaning do you need?</p>
                        <div id="cleaning-type" class="grid grid-cols-2 gap-4">
                            <div class="option-card border-2 border-gray-200 p-4 rounded-lg cursor-pointer text-center" data-value="standard"><h4 data-translate="service_standard">Standard</h4><p data-translate="service_standard_desc" class="text-xs text-gray-500">Recurring upkeep</p></div>
                            <div class="option-card border-2 border-gray-200 p-4 rounded-lg cursor-pointer text-center selected-option" data-value="deep"><h4 data-translate="service_deep">Deep Clean</h4><p data-translate="service_deep_desc" class="text-xs text-gray-500">Detailed, top-to-bottom</p></div>
                            <div class="option-card border-2 border-gray-200 p-4 rounded-lg cursor-pointer text-center" data-value="move_in_out"><h4 data-translate="service_move">Move-In / Move-Out</h4><p data-translate="service_move_desc" class="text-xs text-gray-500">For empty homes</p></div>
                            <div class="option-card border-2 border-gray-200 p-4 rounded-lg cursor-pointer text-center" data-value="post_construction"><h4 data-translate="service_post_con">Post-Construction</h4><p data-translate="service_post_con_desc" class="text-xs text-gray-500">Dust and debris removal</p></div>
                        </div>
                    </div>
                    <div class="mt-8">
                        <h3 data-translate="step2_headline" class="text-xl font-bold mb-1">Step 2: Tell Us About Your Home</h3>
                        <p data-translate="step2_desc" class="text-gray-500 mb-4">This helps us understand the scope of work.</p>
                        <div class="space-y-4">
                            <div>
                                <label for="sqft-select" data-translate="sqft_label" class="text-sm font-medium text-gray-700">Square Footage</label>
                                <p data-translate="sqft_disclaimer" class="text-xs italic text-gray-500 mt-1">Not sure? Select your best guess. We will verify the correct square footage and confirm the final price when we contact you.</p>
                                <select id="sqft-select" class="w-full mt-1 p-4 border-2 border-gray-200 rounded-lg brand-ring focus:border-green-500" data-translate-options="sqft_options">
                                    <option value="0">up to 1,000 sq ft</option><option value="1">1,001 ‚Äì 1,500 sq ft</option><option value="2">1,501 ‚Äì 2,000 sq ft</option><option value="3" selected>2,001 ‚Äì 2,500 sq ft</option><option value="4">2,501 ‚Äì 3,000 sq ft</option><option value="5">3,001 ‚Äì 4,000 sq ft</option><option value="6">4,001 ‚Äì 5,000 sq ft</option>
                                </select>
                            </div>
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label for="bed-select" data-translate="bedrooms_label" class="text-sm font-medium text-gray-700">Bedrooms</label>
                                    <select id="bed-select" class="w-full mt-1 p-4 border-2 border-gray-200 rounded-lg brand-ring focus:border-green-500">
                                        <option>1</option><option>2</option><option selected>3</option><option>4</option><option>5</option><option>6+</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="bath-select" data-translate="bathrooms_label" class="text-sm font-medium text-gray-700">Bathrooms</label>
                                    <select id="bath-select" class="w-full mt-1 p-4 border-2 border-gray-200 rounded-lg brand-ring focus:border-green-500">
                                        <option>1</option><option>2</option><option selected>3</option><option>4</option><option>5+</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="mt-8">
                        <h3 data-translate="step3_headline" class="text-xl font-bold mb-1">Step 3: Customize with Add-Ons</h3>
                        <p data-translate="step3_desc" class="text-gray-500 mb-4">Select any extras you'd like.</p>
                        <div id="addons" class="space-y-3">
                            <label class="flex items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 cursor-pointer"><input type="checkbox" data-price="24.99" class="h-5 w-5 rounded border-gray-300 text-green-600 brand-ring"><span data-translate="addon_fridge" class="ml-3 text-sm font-medium">Inside Fridge</span><span class="ml-auto text-sm text-gray-500">+$24.99</span></label>
                            <label class="flex items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 cursor-pointer"><input type="checkbox" data-price="24.99" class="h-5 w-5 rounded border-gray-300 text-green-600 brand-ring"><span data-translate="addon_oven" class="ml-3 text-sm font-medium">Inside Oven</span><span class="ml-auto text-sm text-gray-500">+$24.99</span></label>
                            <label class="flex items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 cursor-pointer"><input type="checkbox" data-price="surcharge" data-surcharge="0.10" class="h-5 w-5 rounded border-gray-300 text-green-600 brand-ring"><span data-translate="addon_pets" class="ml-3 text-sm font-medium">Heavy Pet Hair</span><span class="ml-auto text-sm text-gray-500">+10%</span></label>
                            <label class="flex items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 cursor-pointer"><input type="checkbox" data-price="39.99" class="h-5 w-5 rounded border-gray-300 text-green-600 brand-ring"><span data-translate="addon_ceilings" class="ml-3 text-sm font-medium">12ft+ Ceilings / Ladder Work</span><span class="ml-auto text-sm text-gray-500">+$39.99</span></label>
                        </div>
                        <p data-translate="addons_note" class="text-xs text-gray-500 mt-4">Note: Interior windows and excess trash removal are quoted separately after a walkthrough or photos.</p>
                    </div>
                </div>
                <div class="brand-bg-light rounded-lg p-8 sticky top-8 self-start">
                    <h3 data-translate="quote_summary_headline" class="text-2xl font-bold brand-text">Your Quote Summary</h3>
                    <div class="mt-6 space-y-4">
                        <div class="flex justify-between items-center"><p data-translate="base_price_label" class="text-gray-600">Base Cleaning Price:</p><p id="base-price-display" class="font-semibold text-lg">$0.00</p></div>
                        <div id="addons-summary" class="border-t border-b border-gray-200 py-4 space-y-2"></div>
                        <div class="price-display p-4 rounded-lg mt-4">
                            <div class="flex justify-between items-center">
                                <p data-translate="total_estimate_label" class="text-lg font-bold brand-text">Total Estimate:</p>
                                <div class="flex items-baseline space-x-2">
                                    <p id="total-price-display" class="text-3xl font-extrabold brand-text">$0.00</p>
                                    <span data-translate="plus_tax" class="text-sm font-semibold brand-text">+ Tax</span>
                                </div>
                            </div>
                        </div>
                        <p data-translate="quote_summary_note" class="text-xs text-gray-500 text-center mt-2 mb-6">Final price confirmed after a brief walkthrough. Tax added where applicable.</p>
                    </div>
                    <button id="book-cleaning-btn" data-translate="book_cleaning_btn" class="cta-button w-full text-center brand-bg text-white font-bold rounded-lg px-8 py-4 text-lg shadow-lg">Book Your Cleaning</button>
                </div>
            </div>
        </section>

        <section id="contact" class="mt-20 bg-white p-8 rounded-2xl shadow-xl">
            <div id="contact-form-container">
                <div class="text-center max-w-2xl mx-auto">
                    <h2 data-translate="contact_headline" class="text-3xl font-bold mb-2 brand-text">Ready for a Spotless Home?</h2>
                    <p data-translate="contact_desc" class="text-gray-600 mb-4">Fill out the form below to request a cleaning.</p>
                    <p data-translate="contact_disclaimer" class="text-xs text-gray-500 mb-8">Please note this is a request and not a final booking. We will contact you via your preferred method (phone or email) to confirm details and schedule your appointment.</p>
                </div>
                <form id="contact-form" class="max-w-xl mx-auto">
                    <input type="hidden" name="quote_summary" id="quote-summary-input">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <input id="contact-name" type="text" name="name" data-translate-placeholder="form_name" placeholder="Your Name" required class="w-full p-3 border-2 border-gray-200 rounded-lg brand-ring focus:border-green-500">
                        <input id="contact-email" type="email" name="email" data-translate-placeholder="form_email" placeholder="Your Email" class="w-full p-3 border-2 border-gray-200 rounded-lg brand-ring focus:border-green-500">
                    </div>
                    <div class="mt-4"><input id="contact-phone" type="tel" name="phone" data-translate-placeholder="form_phone" placeholder="Your Phone Number" class="w-full p-3 border-2 border-gray-200 rounded-lg brand-ring focus:border-green-500"></div>
                    <span id="contact-error" data-translate="form_contact_error" class="text-red-600 text-sm mt-1 hidden">Please provide either an email or a phone number.</span>
                    
                    <div class="mt-4">
                        <input id="address-input" type="text" name="address" data-translate-placeholder="form_address" placeholder="Street Address" required class="w-full p-3 border-2 border-gray-200 rounded-lg brand-ring focus:border-green-500">
                        <span id="address-error" data-translate="form_address_error" class="text-red-600 text-sm mt-1 hidden">Please select a full, valid address from the suggestions.</span>
                    </div>
                    <div class="mt-4">
                        <label for="date-input" data-translate="form_date_label" class="text-sm font-medium text-gray-700">Preferred Cleaning Date</label>
                        <input id="date-input" type="text" name="cleaning_date" data-translate-placeholder="form_date_placeholder" placeholder="Select a date" required class="w-full mt-1 p-3 border-2 border-gray-200 rounded-lg brand-ring focus:border-green-500">
                    </div>
                    <div class="mt-4"><textarea id="contact-message" name="message" data-translate-placeholder="form_message" placeholder="Any additional notes for your cleaning?" rows="4" class="w-full p-3 border-2 border-gray-200 rounded-lg brand-ring focus:border-green-500"></textarea></div>
                    <div class="text-center mt-6"><button type="submit" data-translate="form_submit_btn" class="cta-button w-full md:w-auto brand-bg text-white font-bold rounded-lg px-12 py-4 text-lg shadow-lg">Request My Cleaning</button></div>
                </form>
            </div>
        </section>
    </main>

    <footer class="bg-gray-800 text-white mt-20">
        <div class="container mx-auto px-6 py-8 text-center text-sm">
            <img src="https://googleusercontent.com/file_content/4" alt="EverClean Housekeeping Logo" class="h-12 w-12 mx-auto mb-4" onerror="this.style.display='none'">
            <p data-translate="footer_copyright">&copy; 2025 EverClean Housekeeping. All Rights Reserved.</p>
            <p data-translate="footer_desc" class="mt-2 text-gray-400">A family-owned business serving DeSoto, Midlothian, Cedar Hill, and surrounding communities in the DFW.</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

    <script>
        // This variable needs to be in the global scope so the Google Maps callback can find it.
        let isAddressComplete = false;

        function initAutocomplete() {
            const addressInput = document.getElementById('address-input');
            const addressError = document.getElementById('address-error');
            if (addressInput) {
                const options = {
                    componentRestrictions: { country: "us" },
                    fields: ["address_components", "geometry", "types"],
                    types: ["address"],
                };
                const autocomplete = new google.maps.places.Autocomplete(addressInput, options);

                autocomplete.addListener('place_changed', () => {
                    const place = autocomplete.getPlace();
                    if (place.types && place.types.includes('street_address')) {
                        isAddressComplete = true;
                        addressError.classList.add('hidden');
                    } else {
                        isAddressComplete = false;
                        addressInput.value = '';
                        addressError.classList.remove('hidden');
                    }
                });

                addressInput.addEventListener('input', () => {
                    isAddressComplete = false;
                });
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            // --- TRANSLATION LOGIC ---
            const translations = {
                en: {
                    main_headline: "EverClean Housekeeping",
                    tagline: "Your Local, Family-Owned & Home Cleaning Experts.",
                    service_area: "Proudly serving the Dallas/Fort Worth area, including Waxahachie and Midlothian",
                    get_quote_btn: "Get an Instant Quote",
                    whats_included_headline: "What's Included in Your Clean?",
                    service_standard: "Standard Cleaning",
                    kitchen: "Kitchen",
                    bathrooms: "Bathrooms",
                    bedrooms: "Bedrooms",
                    common_areas: "All Common Areas",
                    service_deep: "Deep Cleaning",
                    deep_includes: "Includes Everything in Standard, PLUS:",
                    kitchen_focus: "Kitchen Focus",
                    bathroom_focus: "Bathroom Focus",
                    service_move: "Move-In / Move-Out Cleaning",
                    move_desc: "Our most comprehensive clean for empty homes. Includes all Deep Cleaning tasks, with a special focus on preparing a home for the next resident.",
                    key_additions: "Key Additions",
                    property_condition: "Property Condition",
                    service_post_con: "Post-Construction Cleaning",
                    post_con_desc: "Specialized cleaning to remove all dust and debris from recent construction or renovation.",
                    primary_focus: "Primary Focus",
                    areas_covered: "Areas Covered",
                    policies_headline: "Our Policies & Frequently Asked Questions",
                    policy_q1: "1. What is your policy for new recurring clients?",
                    policy_a1: "To provide the best possible results, we require that the first cleaning service for all new recurring clients be our <strong>Deep Cleaning service</strong>. This allows us to bring your home to a high standard of cleanliness, making our subsequent <strong>Standard Cleaning</strong> visits more effective at maintaining that sparkle.",
                    policy_q2: "2. Do you offer discounts for regular service?",
                    policy_a2: "Absolutely! We believe in rewarding our loyal clients. After your initial Deep Clean, you will receive a <strong>15% discount</strong> on all regularly scheduled bi-weekly or weekly Standard Cleaning services.",
                    policy_q3: "3. What if I have to skip or reschedule a cleaning?",
                    policy_a3: "We understand that life happens! We kindly request at least <strong>48 hours' notice</strong> for any cancellations or rescheduling. Cancellations made within 48 hours of your appointment may be subject to a small cancellation fee. If a bi-weekly appointment is skipped, your next cleaning will be billed at the full, non-discounted Standard Cleaning rate to account for the extra work needed. Your 15% discount will resume on the following visit.",
                    policy_q4: "4. What if I need an extra Deep Clean for a special occasion?",
                    policy_a4: "We're happy to help! Please note that your recurring service discount applies exclusively to your regularly scheduled Standard Cleaning visits. Any additional services, like a one-time Deep Clean for a party or event, will be quoted and billed at the full, non-discounted rate.",
                    get_estimate_headline: "Get Your Instant Estimate",
                    step1_headline: "Step 1: Choose Your Cleaning Type",
                    step1_desc: "What level of cleaning do you need?",
                    service_standard_desc: "Recurring upkeep",
                    service_deep_desc: "Detailed, top-to-bottom",
                    service_move_desc: "For empty homes",
                    service_post_con_desc: "Dust and debris removal",
                    step2_headline: "Step 2: Tell Us About Your Home",
                    step2_desc: "This helps us understand the scope of work.",
                    sqft_label: "Square Footage",
                    sqft_disclaimer: "Not sure? Select your best guess. We will verify the correct square footage and confirm the final price when we contact you.",
                    bedrooms_label: "Bedrooms",
                    bathrooms_label: "Bathrooms",
                    step3_headline: "Step 3: Customize with Add-Ons",
                    step3_desc: "Select any extras you'd like.",
                    addon_fridge: "Inside Fridge",
                    addon_oven: "Inside Oven",
                    addon_pets: "Heavy Pet Hair",
                    addon_ceilings: "12ft+ Ceilings / Ladder Work",
                    addons_note: "Note: Interior windows and excess trash removal are quoted separately after a walkthrough or photos.",
                    quote_summary_headline: "Your Quote Summary",
                    base_price_label: "Base Cleaning Price:",
                    total_estimate_label: "Total Estimate:",
                    plus_tax: "+ Tax",
                    quote_summary_note: "Final price confirmed after a brief walkthrough. Tax added where applicable.",
                    book_cleaning_btn: "Book Your Cleaning",
                    contact_headline: "Ready for a Spotless Home?",
                    contact_desc: "Fill out the form below to request a cleaning.",
                    contact_disclaimer: "Please note this is a request and not a final booking. We will contact you via your preferred method (phone or email) to confirm details and schedule your appointment.",
                    form_name: "Your Name",
                    form_email: "Your Email",
                    form_phone: "Your Phone Number",
                    form_address: "Street Address",
                    form_address_error: "Please select a full, valid address from the suggestions.",
                    form_contact_error: "Please provide either an email or a phone number.",
                    form_date_label: "Preferred Cleaning Date",
                    form_date_placeholder: "Select a date",
                    form_message: "Any additional notes for your cleaning?",
                    form_submit_btn: "Request My Cleaning",
                    footer_copyright: "&copy; 2025 EverClean Housekeeping. All Rights Reserved.",
                    footer_desc: "A family-owned business serving DeSoto, Midlothian, Cedar Hill, and surrounding communities in the DFW.",
                    checklist_standard_kitchen: ["Clean exterior of all appliances","Clean tables and countertops","Clean and disinfect sink","Clean exterior of cabinets","Sweep and mop floors"],
                    checklist_standard_bathrooms: ["Clean bathtub/shower","Disinfect sinks and polish fixtures","Clean and disinfect toilet","Clean mirrors","Sweep and mop floors"],
                    checklist_standard_bedrooms: ["Dust dressers, lamps, picture frames","Dust ceiling fan","Clean mirrors","Sweep and mop floors"],
                    checklist_standard_common: ["Organize cushions","Dust all decorations and surfaces","Basic organization","Sweep and mop floors"],
                    checklist_deep_plus: ["Detailed baseboard cleaning","Clean interior of windows","Remove cobwebs from ceilings & fans","Clean air vents","Clean switches/power outlets"],
                    checklist_deep_kitchen: ["Clean exterior and interior of cabinets","Clean refrigerator (inside & out)"],
                    checklist_deep_bathroom: ["Clean shower door","Remove water marks from walls","Clean bathroom walls"],
                    checklist_move_additions: ["Clean inside all cabinets and drawers","Clean inside oven and dishwasher","Clean inside all closets","Clean heat vents and medicine cabinets"],
                    checklist_move_conditions: ["Property must be empty and unfurnished","Water and electricity must be on"],
                    checklist_post_con_focus: ["Dust all surfaces, fans, and fixtures","Scrape paint off floors and other surfaces","Clean all windows (inside)","Deep clean of all cabinets (inside & out)","Thorough sweep and mop of all floors"],
                    checklist_post_con_areas: ["Kitchen","Laundry Room","Bathrooms","Living Room & Bedrooms"],
                    sqft_options: ["up to 1,000 sq ft","1,001 ‚Äì 1,500 sq ft","1,501 ‚Äì 2,000 sq ft","2,001 ‚Äì 2,500 sq ft","2,501 ‚Äì 3,000 sq ft","3,001 ‚Äì 4,000 sq ft","4,001 ‚Äì 5,000 sq ft"]
                },
                es: {
                    main_headline: "EverClean Housekeeping",
                    tagline: "Sus Expertos Locales y Familiares en Limpieza del Hogar.",
                    service_area: "Orgullosamente sirviendo el √°rea de Dallas/Fort Worth, incluyendo Waxahachie y Midlothian",
                    get_quote_btn: "Obtenga una Cotizaci√≥n Instant√°nea",
                    whats_included_headline: "¬øQu√© se Incluye en su Limpieza?",
                    service_standard: "Limpieza Est√°ndar",
                    kitchen: "Cocina",
                    bathrooms: "Ba√±os",
                    bedrooms: "Dormitorios",
                    common_areas: "Todas las √Åreas Comunes",
                    service_deep: "Limpieza Profunda",
                    deep_includes: "Incluye todo lo de la Limpieza Est√°ndar, M√ÅS:",
                    kitchen_focus: "Enfoque en la Cocina",
                    bathroom_focus: "Enfoque en el Ba√±o",
                    service_move: "Limpieza de Mudanza (Entrada/Salida)",
                    move_desc: "Nuestra limpieza m√°s completa para casas vac√≠as. Incluye todas las tareas de Limpieza Profunda, con un enfoque especial en preparar la casa para el pr√≥ximo residente.",
                    key_additions: "Adiciones Clave",
                    property_condition: "Condici√≥n de la Propiedad",
                    service_post_con: "Limpieza Post-Construcci√≥n",
                    post_con_desc: "Limpieza especializada para eliminar todo el polvo y los escombros de una construcci√≥n o renovaci√≥n reciente.",
                    primary_focus: "Enfoque Principal",
                    areas_covered: "√Åreas Cubiertas",
                    policies_headline: "Nuestras Pol√≠ticas y Preguntas Frecuentes",
                    policy_q1: "1. ¬øCu√°l es su pol√≠tica para nuevos clientes recurrentes?",
                    policy_a1: "Para asegurar los mejores resultados posibles, requerimos que el primer servicio de limpieza para todos los nuevos clientes recurrentes sea nuestro <strong>servicio de Limpieza Profunda</strong>. Esto nos permite llevar su hogar a un alto est√°ndar de limpieza, haciendo que nuestras visitas posteriores de <strong>Limpieza Est√°ndar</strong> sean m√°s efectivas para mantener ese brillo.",
                    policy_q2: "2. ¬øOfrecen descuentos por servicio regular?",
                    policy_a2: "¬°Absolutamente! Creemos en recompensar a nuestros clientes leales. Despu√©s de su Limpieza Profunda inicial, recibir√° un <strong>descuento del 15%</strong> en todos los servicios de Limpieza Est√°ndar programados regularmente de forma quincenal o semanal.",
                    policy_q3: "3. ¬øQu√© pasa si tengo que omitir o reprogramar una limpieza?",
                    policy_a3: "¬°Entendemos que surgen imprevistos! Le pedimos amablemente un preaviso de al menos <strong>48 horas</strong> para cualquier cancelaci√≥n o reprogramaci√≥n. Las cancelaciones realizadas dentro de las 48 horas de su cita pueden estar sujetas a una peque√±a tarifa de cancelaci√≥n. Si se omite una cita quincenal, su pr√≥xima limpieza se facturar√° a la tarifa completa, sin descuento, de Limpieza Est√°ndar para compensar el trabajo adicional requerido. Su descuento del 15% se reanudar√° en la siguiente visita.",
                    policy_q4: "4. ¬øQu√© pasa si necesito una Limpieza Profunda extra para una ocasi√≥n especial?",
                    policy_a4: "¬°Estamos felices de ayudar! Tenga en cuenta que su descuento de servicio recurrente se aplica exclusivamente a sus visitas de Limpieza Est√°ndar programadas regularmente. Cualquier servicio adicional o diferente, como una Limpieza Profunda √∫nica para una fiesta o evento, se cotizar√° y facturar√° por separado a sus tarifas completas, sin descuento.",
                    get_estimate_headline: "Obtenga su Estimaci√≥n Instant√°nea",
                    step1_headline: "Paso 1: Elija su Tipo de Limpieza",
                    step1_desc: "¬øQu√© nivel de limpieza necesita?",
                    service_standard_desc: "Mantenimiento recurrente",
                    service_deep_desc: "Detallada, de arriba a abajo",
                    service_move_desc: "Para casas vac√≠as",
                    service_post_con_desc: "Eliminaci√≥n de polvo y escombros",
                    step2_headline: "Paso 2: Cu√©ntenos Sobre su Hogar",
                    step2_desc: "Esto nos ayuda a entender el alcance del trabajo.",
                    sqft_label: "Pies Cuadrados",
                    sqft_disclaimer: "¬øNo est√° seguro? Seleccione su mejor estimaci√≥n. Verificaremos los pies cuadrados correctos y confirmaremos el precio final cuando nos comuniquemos con usted.",
                    bedrooms_label: "Dormitorios",
                    bathrooms_label: "Ba√±os",
                    step3_headline: "Paso 3: Personalice con Adicionales",
                    step3_desc: "Seleccione los extras que desee.",
                    addon_fridge: "Interior del Refrigerador",
                    addon_oven: "Interior del Horno",
                    addon_pets: "Pelo de Mascota Abundante",
                    addon_ceilings: "Techos de 12ft+ / Trabajo con Escalera",
                    addons_note: "Nota: La limpieza de ventanas interiores y la eliminaci√≥n de basura en exceso se cotizan por separado despu√©s de una visita o fotos.",
                    quote_summary_headline: "Resumen de su Cotizaci√≥n",
                    base_price_label: "Precio Base de Limpieza:",
                    total_estimate_label: "Estimaci√≥n Total:",
                    plus_tax: "+ Impuestos",
                    quote_summary_note: "El precio final se confirma despu√©s de una breve visita. Se a√±adir√°n impuestos donde corresponda.",
                    book_cleaning_btn: "Reservar su Limpieza",
                    contact_headline: "¬øListo para un Hogar Impecable?",
                    contact_desc: "Llene el siguiente formulario para solicitar una limpieza.",
                    contact_disclaimer: "Tenga en cuenta que esta es una solicitud y no una reserva final. Nos pondremos en contacto con usted a trav√©s de su m√©todo preferido (tel√©fono o correo electr√≥nico) para confirmar los detalles y programar su cita.",
                    form_name: "Su Nombre",
                    form_email: "Su Correo Electr√≥nico",
                    form_phone: "Su N√∫mero de Tel√©fono",
                    form_address: "Direcci√≥n",
                    form_address_error: "Por favor, seleccione una direcci√≥n completa y v√°lida de las sugerencias.",
                    form_contact_error: "Por favor, proporcione un correo electr√≥nico o un n√∫mero de tel√©fono.",
                    form_date_label: "Fecha de Limpieza Preferida",
                    form_date_placeholder: "Seleccione una fecha",
                    form_message: "¬øAlguna nota adicional para su limpieza?",
                    form_submit_btn: "Solicitar mi Limpieza",
                    footer_copyright: "&copy; 2025 EverClean Housekeeping. Todos los derechos reservados.",
                    footer_desc: "Un negocio familiar que sirve a DeSoto, Midlothian, Cedar Hill y las comunidades circundantes en el DFW.",
                    checklist_standard_kitchen: ["Limpiar el exterior de todos los electrodom√©sticos","Limpiar mesas y encimeras","Limpiar y desinfectar el fregadero","Limpiar el exterior de los gabinetes","Barrer y trapear los pisos"],
                    checklist_standard_bathrooms: ["Limpiar la ba√±era/ducha","Desinfectar lavabos y pulir grifos","Limpiar y desinfectar el inodoro","Limpiar espejos","Barrer y trapear los pisos"],
                    checklist_standard_bedrooms: ["Quitar el polvo de c√≥modas, l√°mparas y marcos","Quitar el polvo del ventilador de techo","Limpiar espejos","Barrer y trapear los pisos"],
                    checklist_standard_common: ["Organizar cojines","Quitar el polvo de todas las decoraciones y superficies","Organizaci√≥n b√°sica","Barrer y trapear los pisos"],
                    checklist_deep_plus: ["Limpieza detallada de z√≥calos","Limpiar el interior de las ventanas","Eliminar telara√±as de techos y ventiladores","Limpiar las rejillas de ventilaci√≥n","Limpiar interruptores y enchufes"],
                    checklist_deep_kitchen: ["Limpiar el exterior e interior de los gabinetes","Limpiar el refrigerador (por dentro y por fuera)"],
                    checklist_deep_bathroom: ["Limpiar la puerta de la ducha","Eliminar marcas de agua de las paredes","Limpiar las paredes del ba√±o"],
                    checklist_move_additions: ["Limpiar el interior de todos los gabinetes y cajones","Limpiar el interior del horno y lavavajillas","Limpiar el interior de todos los armarios","Limpiar las rejillas de calefacci√≥n y botiquines"],
                    checklist_move_conditions: ["La propiedad debe estar vac√≠a y sin muebles","El agua y la electricidad deben estar conectadas"],
                    checklist_post_con_focus: ["Quitar el polvo de todas las superficies, ventiladores y accesorios","Raspar la pintura de los pisos y otras superficies","Limpiar todas las ventanas (interior)","Limpieza profunda de todos los gabinetes (interior y exterior)","Barrer y trapear a fondo todos los pisos"],
                    checklist_post_con_areas: ["Cocina","Lavander√≠a","Ba√±os","Sala y Dormitorios"],
                    sqft_options: ["hasta 1,000 pies¬≤","1,001 ‚Äì 1,500 pies¬≤","1,501 ‚Äì 2,000 pies¬≤","2,001 ‚Äì 2,500 pies¬≤","2,501 ‚Äì 3,000 pies¬≤","3,001 ‚Äì 4,000 pies¬≤","4,001 ‚Äì 5,000 pies¬≤"]
                }
            };

            const langEnBtn = document.getElementById('lang-en');
            const langEsBtn = document.getElementById('lang-es');

            function translatePage(lang) {
                document.querySelectorAll('[data-translate]').forEach(el => {
                    const key = el.dataset.translate;
                    if (translations[lang] && translations[lang][key]) {
                        el.innerHTML = translations[lang][key];
                    }
                });
                document.querySelectorAll('[data-translate-placeholder]').forEach(el => {
                    const key = el.dataset.translatePlaceholder;
                    if (translations[lang] && translations[lang][key]) {
                        el.placeholder = translations[lang][key];
                    }
                });
                document.querySelectorAll('[data-translate-list]').forEach(ul => {
                    const key = ul.dataset.translateList;
                    if (translations[lang] && translations[lang][key]) {
                        ul.innerHTML = translations[lang][key].map(item => `<li>${item}</li>`).join('');
                    }
                });
                 document.querySelectorAll('[data-translate-options]').forEach(select => {
                    const key = select.dataset.translateOptions;
                    if (translations[lang] && translations[lang][key]) {
                        select.querySelectorAll('option').forEach((option, index) => {
                            option.textContent = translations[lang][key][index];
                        });
                    }
                });

                if (lang === 'es') {
                    langEsBtn.classList.add('active');
                    langEnBtn.classList.remove('active');
                } else {
                    langEnBtn.classList.add('active');
                    langEsBtn.classList.remove('active');
                }
                localStorage.setItem('language', lang);
            }

            langEnBtn.addEventListener('click', () => translatePage('en'));
            langEsBtn.addEventListener('click', () => translatePage('es'));
            
            const pricingData = {
                standard: [119.99, 149.99, 179.99, 209.99, 239.99, 279.99, 329.99],
                multipliers: { standard: 1.0, deep: 1.4, move_in_out: 1.5, post_construction: 1.7 }
            };
            const cleaningTypeContainer = document.getElementById('cleaning-type');
            const sqftSelect = document.getElementById('sqft-select');
            const bedSelect = document.getElementById('bed-select');
            const bathSelect = document.getElementById('bath-select');
            const addonsContainer = document.getElementById('addons');
            const basePriceDisplay = document.getElementById('base-price-display');
            const totalPriceDisplay = document.getElementById('total-price-display');
            const addonsSummaryContainer = document.getElementById('addons-summary');
            const quoteSummaryInput = document.getElementById('quote-summary-input');
            const contactForm = document.getElementById('contact-form');
            const contactFormContainer = document.getElementById('contact-form-container');
            const bookCleaningBtn = document.getElementById('book-cleaning-btn');
            const phoneInput = document.getElementById('contact-phone');
            const emailInput = document.getElementById('contact-email');
            
            flatpickr("#date-input", {
                altInput: true,
                altFormat: "F j, Y",
                dateFormat: "Y-m-d",
                minDate: "today"
            });

            let selectedCleaningType = 'deep';
            let selectedSqftIndex = 3;
            let currentQuote = 0;

            function formatCurrency(amount) {
                return new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(amount);
            }

            function calculateAndDisplayPrice() {
                const standardPrice = pricingData.standard[selectedSqftIndex];
                const multiplier = pricingData.multipliers[selectedCleaningType];
                const basePrice = standardPrice * multiplier;
                let addonsTotal = 0;
                let petSurcharge = 0;
                addonsSummaryContainer.innerHTML = '';
                const addonCheckboxes = addonsContainer.querySelectorAll('input[type="checkbox"]:checked');
                addonCheckboxes.forEach(checkbox => {
                    const price = parseFloat(checkbox.dataset.price);
                    const surcharge = parseFloat(checkbox.dataset.surcharge);
                    const name = checkbox.nextElementSibling.textContent;
                    let cost = 0;
                    if (checkbox.dataset.price === 'surcharge') {
                        petSurcharge = standardPrice * surcharge;
                        cost = petSurcharge;
                    } else {
                        addonsTotal += price;
                        cost = price;
                    }
                    const summaryItem = document.createElement('div');
                    summaryItem.className = 'flex justify-between items-center text-sm';
                    summaryItem.innerHTML = `<p class="text-gray-600">${name}</p><p class="font-medium">${formatCurrency(cost)}</p>`;
                    addonsSummaryContainer.appendChild(summaryItem);
                });
                if (addonsSummaryContainer.innerHTML === '') {
                    addonsSummaryContainer.innerHTML = '<p data-translate="no_addons" class="text-sm text-gray-400 text-center">No add-ons selected.</p>';
                }
                const totalPrice = basePrice + addonsTotal + petSurcharge;
                currentQuote = totalPrice;
                basePriceDisplay.textContent = formatCurrency(basePrice);
                totalPriceDisplay.textContent = formatCurrency(totalPrice);
            }

            function populateQuoteSummary() {
                const cleaningTypeText = document.querySelector(`#cleaning-type .option-card[data-value="${selectedCleaningType}"] h4`).textContent;
                const sqftText = sqftSelect.options[sqftSelect.selectedIndex].text;
                const bedText = bedSelect.value;
                const bathText = bathSelect.value;
                const addons = Array.from(addonsContainer.querySelectorAll('input[type="checkbox"]:checked'))
                                  .map(cb => cb.nextElementSibling.textContent);

                let summary = `SERVICE QUOTE DETAILS:\n`;
                summary += `-----------------------\n`;
                summary += `Service Type: ${cleaningTypeText}\n`;
                summary += `Home Size: ${sqftText}\n`;
                summary += `Bedrooms: ${bedText}\n`;
                summary += `Bathrooms: ${bathText}\n`;
                summary += `Add-ons: ${addons.length > 0 ? addons.join(', ') : 'None'}\n`;
                summary += `Estimated Price: ${formatCurrency(currentQuote)}\n`;
                
                quoteSummaryInput.value = summary;
            }

            function formatPhoneNumber(event) {
                const input = event.target;
                let digits = input.value.replace(/\D/g, '');
                digits = digits.substring(0, 10);
                const areaCode = digits.substring(0, 3);
                const middle = digits.substring(3, 6);
                const last = digits.substring(6, 10);

                if (digits.length > 6) {
                    input.value = `(${areaCode}) ${middle}-${last}`;
                } else if (digits.length > 3) {
                    input.value = `(${areaCode}) ${middle}`;
                } else if (digits.length > 0) {
                    input.value = `(${areaCode}`;
                }
            }

            cleaningTypeContainer.addEventListener('click', function(e) {
                const card = e.target.closest('.option-card');
                if (!card) return;
                selectedCleaningType = card.dataset.value;
                cleaningTypeContainer.querySelectorAll('.option-card').forEach(c => c.classList.remove('selected-option'));
                card.classList.add('selected-option');
                calculateAndDisplayPrice();
            });
            sqftSelect.addEventListener('change', function() {
                selectedSqftIndex = parseInt(this.value);
                calculateAndDisplayPrice();
            });
            addonsContainer.addEventListener('change', function(e) {
                if (e.target.type === 'checkbox') {
                    calculateAndDisplayPrice();
                }
            });
            
            bookCleaningBtn.addEventListener('click', function() {
                document.getElementById('contact').scrollIntoView({ behavior: 'smooth' });
            });

            phoneInput.addEventListener('input', formatPhoneNumber);
            
            contactForm.addEventListener("submit", function(e) {
                e.preventDefault();

                const phoneValue = phoneInput.value.trim();
                const emailValue = emailInput.value.trim();
                const contactError = document.getElementById('contact-error');

                if (!phoneValue && !emailValue) {
                    contactError.classList.remove('hidden');
                    return;
                } else {
                    contactError.classList.add('hidden');
                }

                if (!isAddressComplete) {
                    const addressError = document.getElementById('address-error');
                    addressError.classList.remove('hidden');
                    document.getElementById('address-input').focus();
                    return;
                }
                
                populateQuoteSummary();

                const form = e.target;
                const data = new FormData(form);
                const submitButton = form.querySelector('button[type="submit"]');
                
                submitButton.disabled = true;
                submitButton.textContent = 'Submitting...';

                fetch("/.netlify/functions/send-email", {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(Object.fromEntries(data))
                }).then(response => {
                    if (response.ok) {
                        contactFormContainer.innerHTML = `
                            <div class="text-center p-8">
                                <h3 data-translate="thank_you_headline" class="text-2xl font-bold brand-text">Thank You!</h3>
                                <p data-translate="thank_you_desc" class="text-gray-600 mt-4">Your request has been submitted successfully. We will be in touch shortly!</p>
                            </div>
                        `;
                    } else {
                       return response.json().then(data => {
                            throw new Error(data.message || 'Something went wrong');
                       });
                    }
                }).catch(error => {
                    console.error('Submission Error:', error);
                    alert(`Oops! There was a problem submitting your form. Error: ${error.message}`);
                    submitButton.disabled = false;
                    submitButton.textContent = 'Request My Cleaning';
                });
            });


            calculateAndDisplayPrice();
            const savedLang = localStorage.getItem('language') || 'en';
            translatePage(savedLang);

        });
    </script>

    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBCdaTKyutpsQYR86OYiqM0v8cU74ltvks&libraries=places&callback=initAutocomplete" async defer></script>

</body>
</html>
